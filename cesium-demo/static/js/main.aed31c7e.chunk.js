(this["webpackJsonpc-2"]=this["webpackJsonpc-2"]||[]).push([[0],{244:function(e){e.exports=JSON.parse('{"version":"0.1.0","production":false,"baseUrl":"http://localhost:5000","e2eBaseURL":"http://localhost:3000","rootAPIPath":"/api","APIVersion":"/v1","localMockPath":"/cesium-demo/data","cesiumToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIzN2E5MWI2MS0wM2I5LTQ2MzItOWFkOC04ODkwN2IwYWY2ZjYiLCJpZCI6NDA5MDUsImlhdCI6MTYwOTM2NjQ3Nn0.GEBhI47QIms4b8EUlSssqdJJDhbnwBJ1Z0eiOSbtSSU","services":{},"featureflags":{"isHideDocumentInspector":true}}')},245:function(e){e.exports=JSON.parse('{"version":"0.1.0","production":false,"baseUrl":"http://localhost:8080","e2eBaseURL":"http://localhost:3000","rootAPIPath":"/api","APIVersion":"/v1","localMockPath":"/cesium-demo/data","cesiumToken":"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiIzN2E5MWI2MS0wM2I5LTQ2MzItOWFkOC04ODkwN2IwYWY2ZjYiLCJpZCI6NDA5MDUsImlhdCI6MTYwOTM2NjQ3Nn0.GEBhI47QIms4b8EUlSssqdJJDhbnwBJ1Z0eiOSbtSSU","services":{},"featureflags":{"isHideDocumentInspector":true}}')},292:function(e,t,n){},4:function(e,t){e.exports=Cesium},411:function(e,t,n){},412:function(e,t,n){"use strict";n.r(t);var r,a=n(2),i=n(18),o=n.n(i),c=n(0),s=n(476),l=n(8),u=n(20),d=n(14),f=n(13),v=n(475),h=n(486),j=n(22),p=n(247),b=n(482),O=n(483);!function(e){e[e.TOAST_DISPLAYED=0]="TOAST_DISPLAYED",e[e.TIME_INDEX_CHANGED=1]="TIME_INDEX_CHANGED"}(r||(r={}));var y,m=new(function(){function e(){Object(l.a)(this,e),this._subject=new O.a,this._subjectPayload=new O.a}return Object(u.a)(e,[{key:"pubSub$",value:function(){return this._subject}},{key:"broadcast",value:function(e){this._subject.next(e)}},{key:"pubSubPayload$",value:function(){return this._subjectPayload}},{key:"broadcastPayload",value:function(e){this._subjectPayload.next(e)}}]),e}()),g=(new(function(){function e(){Object(l.a)(this,e),this._defaultRenderComponent={},this._defaultRoute={}}return Object(u.a)(e,[{key:"setDefaultRenderComponent",value:function(e,t){this._defaultRenderComponent[e]=t}},{key:"getDefaultRenderComponent",value:function(e){return this._defaultRenderComponent[e]}},{key:"isRegisteredPrefix",value:function(e){return!!this._defaultRenderComponent[e]}},{key:"registeredDefaultRoute",value:function(e,t){return this._defaultRoute[e]=t,"/".concat(t)}},{key:"computeDefaultRoute",value:function(e,t,n){var r=this._defaultRoute[e];return r?"/".concat(r,"/").concat(t):n}}]),e}()),n(484)),x=n(480),k=n(463),w=n(96),S=n(162),T=n(139),P=n(119),D=n(478),C=n(481),E=n(459),L=n(460),A=n(461),I=n(462);!function(e){e.UNKNOWN="unknown",e.AT="@",e.THIS="this",e.SELF="self",e.ROOT="root"}(y||(y={}));var N=new(function(){function e(){Object(l.a)(this,e),this.hasOwnProperty=Object.prototype.hasOwnProperty}return Object(u.a)(e,[{key:"getFunctionName",value:function(e){var t=e.toString();return(t=(t=t.substr("function ".length)).substr(0,t.indexOf("("))).trim()}},{key:"generateUUID",value:function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:7&n|8).toString(16)}))}},{key:"asJson",value:function(e){var t=this.stringify(e);return JSON.parse(t)}},{key:"stringify",value:function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;function n(e){return e&&e.asReference?"resolveRef("+e.asReference()+","+e.constructor.name+")":e}function r(e,t){switch(e){case"myParent":return n(t);case"myMembers":return t?t.map((function(e){return n(e)})):t;case"_lookup":case"_members":return t;case"targets":return t.map((function(e){return e.id}))}if(!e.startsWith("_"))return t}return JSON.stringify(e,r,t)}},{key:"splitNamespaceType",value:function(e,t){var n=e.split("::"),r={namespace:"",name:e};return 2===n.length?r={namespace:n[0],name:n[1]}:t&&(r={namespace:n[0],name:t}),r}},{key:"getNamespace",value:function(e){var t=e.myType?e.myType.split("::"):[""];return t=t[0]}},{key:"getType",value:function(e){var t=e.myType?e.myType.split("::"):[""];return t=2===t.length?t[1]:t[0]}},{key:"namespace",value:function(e,t){return"".concat(e,"::").concat(t)}},{key:"randomInt",value:function(e,t){return e+Math.floor(Math.random()*(t-e+1))}},{key:"random",value:function(e,t){return e+Math.random()*(t-e)}},{key:"randomRGBColor",value:function(){var e=255*Math.random()|0,t=255*Math.random()|0,n=255*Math.random()|0;return"rgb(".concat(e,",").concat(t,",").concat(n,")")}},{key:"matches",value:function(e,t){return e===t||e&&t&&e.toLocaleLowerCase()===t.toLocaleLowerCase()}},{key:"startsWith",value:function(e,t){return e===t||e&&t&&e.toLocaleLowerCase().startsWith(t.toLocaleLowerCase())}},{key:"capitalizeFirstLetter",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},{key:"isSelf",value:function(e){return this.matches(e,y.AT)||this.matches(e,y.THIS)||this.matches(e,y.SELF)}},{key:"isArray",value:function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}},{key:"isFunction",value:function(e){return"function"===typeof e}},{key:"isString",value:function(e){return"string"===typeof e}},{key:"isNumber",value:function(e){return"number"===typeof e}},{key:"isDate",value:function(e){return e instanceof Date}},{key:"isObject",value:function(e){return e&&"object"===typeof e}},{key:"isCustomLinkName",value:function(e){return!1}},{key:"isTyped",value:function(e){return e&&e.isInstanceOf}},{key:"isEmpty",value:function(e){if(null==e)return!0;if(e.length>0)return!1;if(0===e.length)return!0;if("object"!==typeof e)return!0;for(var t in e)if(this.hasOwnProperty.call(e,t))return!1;return!0}},{key:"replaceSpaces",value:function(e){return e.replace(/[\s]/g,"_")}},{key:"removeSpaces",value:function(e){return e.replace(/[\s]/g,"_")}},{key:"removeSpecial",value:function(e){return e.replace(/[^a-zA-Z 0-9]+/g,"")}},{key:"toVirtualFolder",value:function(e){var t=this.removeSpecial(e);return(t=this.removeSpaces(t)).toLocaleLowerCase()}},{key:"applyTemplate",value:function(e,t){for(var n=e||"",r=0,a=Object.keys(t);r<a.length;r++){var i=a[r],o="{"+i+"}",c=t[i];n=n.replace(o,c)}return n}},{key:"removeDQ",value:function(e){return e.replace(/^"(.*)"$/,"$1")}},{key:"unwrap",value:function(e){return e.substring(1,e.length-1)}},{key:"wrapDQ",value:function(e){return'"'.concat(e,'"')}},{key:"wrapSQ",value:function(e){return"'".concat(e,"'")}},{key:"decomposeHostPath",value:function(e){var t=e.toLowerCase(),n=(t=(t=t.replace("http://","")).replace("https://","")).split("/")[0];return{fullpath:e,host:n,path:t.replace(n,"")}}},{key:"extend",value:function(e,t){if(!t)return e;for(var n in t)this.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}},{key:"mixin",value:function(e,t){if(!t)return e;if(!e)return t;var n,r=Object(P.a)(t);try{for(r.s();!(n=r.n()).done;){var a=n.value;e[a]=t[a]}}catch(i){r.e(i)}finally{r.f()}return e}},{key:"mixExact",value:function(t,n){if(!n)return t;if(!t)return n;for(var r in n)e.hasOwnProperty.call(t,r)&&(t[r]=n[r]);return t}},{key:"mixout",value:function(e,t){if(!t)return e;if(!e)return t;for(var n in t)this.hasOwnProperty.call(e,n)&&delete e[n];return e}},{key:"extract",value:function(e,t){var n={};return t&&t.forEach((function(t){n[t]=e[t]})),n}},{key:"mixMap",value:function(e,t){if(!t)return e;var n={};for(var r in e){n[t[r]||r]=e[r]}return n}},{key:"intersect",value:function(e,t){if(!t)return e;if(!e)return t;var n={};for(var r in e)this.hasOwnProperty.call(t,r)?n[r]=t[r]:n[r]=e[r];return n}},{key:"union",value:function(e,t){var n={};if(e)for(var r in e)n[r]=e[r];if(t)for(var a in t)n[a]=t[a];return n}},{key:"defineValueProperty",value:function(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0}),e}},{key:"defineComputeOnlyProperty",value:function(e,t,n){return Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:n}),e}},{key:"defineCalculatedProperty",value:function(e,t,n){return Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:n,set:function(e){this["_".concat(t)]=e}}),e}},{key:"getMethods",value:function(e){var t=[];for(var n in e.prototype)"function"===typeof e[n]&&t.push(n);return t}},{key:"asArray",value:function(e,t){return this.isArray(e)?e:this.mapOverKeyValue(e,(function(e,n){return t?t(e,n):n}))}},{key:"applyOverKeyValue",value:function(e,t){var n=this,r={};return(e?Object.keys(e):[]).forEach((function(a){if(n.hasOwnProperty.call(e,a)){var i=e[a],o=t(a,i);o&&(r[a]=o)}})),r}},{key:"mapOverKeyValue",value:function(e,t){var n=this,r=[];return(e?Object.keys(e):[]).forEach((function(a){if(n.hasOwnProperty.call(e,a)){var i=e[a],o=t(a,i);o&&r.push(o)}})),r}},{key:"forEachKeyValue",value:function(e,t){var n=this;(e?Object.keys(e):[]).forEach((function(r){if(n.hasOwnProperty.call(e,r)){var a=e[r];t(r,a)}}))}},{key:"findKeyForValue",value:function(e,t){for(var n in e)if(this.hasOwnProperty.call(e,t)&&e[n].matches(t))return n;return e}},{key:"addToListByKey",value:function(e,t,n){e[t]?e[t].push(n):e[t]=[n]}},{key:"extractReadWriteKeys",value:function(e){var t=[];return N.forEachKeyValue(e,(function(e,n){N.isFunction(n)||t.push(e)})),t}},{key:"extractComputedKeys",value:function(e){var t=[];return N.forEachKeyValue(e,(function(e,n){N.isFunction(n)&&t.push(e)})),t}},{key:"overrideComputed",value:function(e,t){N.forEachKeyValue(t,(function(t,n){try{N.isFunction(n)?N.defineCalculatedProperty(e,t,n):e[t]=n}catch(r){console.log(r)}}))}},{key:"extendComputed",value:function(e,t){N.forEachKeyValue(t,(function(t,n){try{e[t]||(N.isFunction(n)?N.defineCalculatedProperty(e,t,n):e[t]=n)}catch(r){console.log(r)}}))}},{key:"pluck",value:function(e){return function(t){return t[e]}}},{key:"distinctItems",value:function(e){var t={};return e.forEach((function(e){t[e]=e})),Object.keys(t)}},{key:"groupBy",value:function(e,t){var n={};return t.forEach((function(t){var r=e(t);n[r]||(n[r]=[]),n[r].push(t)})),n}},{key:"mergeGroups",value:function(e,t){var n={};return Object.keys(e).forEach((function(r){var a=e[r],i=t[r];n[r]=i?[].concat(Object(T.a)(i),Object(T.a)(a)):Object(T.a)(a)})),n}},{key:"getDateTimeDisplay",value:function(e){return Object(D.a)(new Date(e),"MM-dd-yyyy h:mm aaaaa'm'")}},{key:"getDateTimeWords",value:function(e){return Object(C.a)(new Date(e),new Date,{addSuffix:!0,includeSeconds:!0})}},{key:"getNowIsoDate",value:function(){return(new Date).toISOString()}},{key:"now",value:function(){return(new Date).getTime()}},{key:"getYearYYYY",value:function(){return(new Date).getFullYear()}},{key:"isPasteEvent",value:function(e){return(null===e||void 0===e?void 0:e.ctrlKey)&&"V"===((null===e||void 0===e?void 0:e.key)||"").toUpperCase()}},{key:"addISODays",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(E.a)(Object(L.a)(Object(A.a)(e),t))}},{key:"addISOHours",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return Object(E.a)(Object(I.a)(Object(A.a)(e),t))}},{key:"doNothing",get:function(){return function(){}}}]),e}()),M=function(){function e(){Object(l.a)(this,e)}return Object(u.a)(e,[{key:"override",value:function(e){var t=this;e&&Object.keys(e).forEach((function(n){Object.defineProperty(t,n,{value:e[n],configurable:!0,enumerable:!0,writable:!0})}))}},{key:"getPropertyValue",value:function(e,t){return t.split(".").forEach((function(t){e&&(e=e[t])})),e}},{key:"getProperty",value:function(e,t){var n=this;return{getter:function(){var r=n.getPropertyValue(n,e);return t&&r?r.join(" "):r},setter:function(r){var a=t?[r]:r;Object.defineProperty(n,e,{value:a,configurable:!0,enumerable:!0,writable:!0})}}}},{key:"getPropertyAsList",value:function(e,t,n){var r=this;return{getter:function(){var t=r.getPropertyValue(r,e);return t||[]},setter:function(t){var n=t;Object.defineProperty(r,e,{value:n,configurable:!0,enumerable:!0,writable:!0})},push:function(t){var n=r.getPropertyValue(r,e);n.push(t),Object.defineProperty(r,e,{value:n,configurable:!0,enumerable:!0,writable:!0})},remove:function(t){var n=r.getPropertyValue(r,e);Object(S.pull)(n,t),Object.defineProperty(r,e,{value:n,configurable:!0,enumerable:!0,writable:!0})},labelForAdd:function(){return n||"Add Item"},defaultDataForAdd:function(){var n=r.getPropertyValue(r,e);return t||n.length>0&&Object.assign({},n[0])||{}}}}},{key:"getPropertyAsEnumList",value:function(e,t,n,r,a,i){var o=this;return{getter:function(){var t=o.getPropertyValue(o,e);return t||(n?"":[])},setter:function(t){var r=t;!N.isEmpty(t)&&N.isArray(t)&&n&&(r=t[0]),Object.defineProperty(o,e,{value:r,configurable:!0,enumerable:!0,writable:!0})},push:function(t){var r=o.getPropertyValue(o,e);n?r=t:r.push(t),Object.defineProperty(o,e,{value:r,configurable:!0,enumerable:!0,writable:!0})},clear:function(){Object.defineProperty(o,e,{value:[],configurable:!0,enumerable:!0,writable:!0})},remove:function(t){var n=o.getPropertyValue(o,e);Object(S.pull)(n,t),Object.defineProperty(o,e,{value:n,configurable:!0,enumerable:!0,writable:!0})},getEnumValues:function(){var e=new O.a;return setTimeout((function(){e.next(t),e.complete()}),10),e},mutuallyExclusive:function(){return n},minRequiredSelections:function(){return r}}}},{key:"removeUndefined",value:function(){for(var e in this)void 0===this[e]&&delete this[e];return this}},{key:"toJSON",value:function(){return Object.assign({},this)}},{key:"myType",get:function(){return this.constructor.name},set:function(e){}}]),e}(),V=new(function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this)).production=!0,r.e2eBaseURL="",r.rootAPIPath="/api",r.APIVersion="/v1",r.localMockPath="/data",r.componentLibrary="MUI",r.version="0.0.0",r.didHealthCheckPass=!1,r.envVars=void 0,r.services=void 0,r.featureflags={isHideDocumentInspector:!0},r.override(e),r}return n}(M)),R=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(e){var r;Object(l.a)(this,n),(r=t.call(this)).serviceKey=void 0,r.endpoint=void 0,r.localDataPath=void 0,r.localMockData=!1,r.forceLocalMock=!1,r.override(e);var a=V.services[r.serviceKey];return a&&r.override(a),r}return Object(u.a)(n,[{key:"getUrl",value:function(){var e,t=this.localMockData,n=this.localDataPath;if(t)return J.info("Using MOCK DATA for ".concat(this.serviceKey)),"".concat(V.localMockPath).concat(n);if(this.forceLocalMock)return J.warning("PENDING Service ".concat(this.serviceKey,": FORCING MOCK DATA")),"".concat(V.localMockPath).concat(n);var r="".concat(null===(e=V.envVars)||void 0===e?void 0:e.REACT_APP_BASE_URL).concat(V.rootAPIPath).concat(V.APIVersion),a="".concat(r).concat(this.endpoint);return encodeURI(a)}}]),n}(M),F=function(){function e(){Object(l.a)(this,e)}return Object(u.a)(e,null,[{key:"success",value:function(e,t,n){var r=t.response;if(r.payload=_.mapToModel(e,r.payload,n),"pending"===r.status){var a="".concat(r.status," ").concat(r.message," ").concat(t.request.url);J.warning(a)}return Object(g.a)(r)}},{key:"getAnySuccess",value:function(e){var t=e.response;if("pending"===t.status){var n="".concat(t.status," ").concat(t.message," ").concat(e.request.url);J.warning(n)}return Object(g.a)(t)}},{key:"error",value:function(e){return Object(g.a)(Object(j.a)({},_.mapErrorResponse(e)))}}]),e}(),_=new(function(){function e(){Object(l.a)(this,e)}return Object(u.a)(e,[{key:"mapToModel",value:function(e,t,n){return t.map((function(t){var r=n?n(t):t;return new e(r)}))}},{key:"mapErrorResponse",value:function(e){return{dateTime:(new Date).toISOString(),hasError:!0,status:"error",length:-1,payload:[],payloadType:"",metadata:{},message:e.message,error:e}}},{key:"post$",value:function(t,n,r,a,i){var o=new O.a,c=n.getUrl(),s=e.makeHeaders(a,{"Content-Type":"application/json"});return console.log("post$ url=",c),Object(w.ajaxPost)(c,r,s).pipe(Object(x.a)((function(e){return F.success(t,e,i)})),Object(k.a)((function(e){return console.log(JSON.stringify(r,void 0,3)),F.error(e)}))).subscribe(o),o}},{key:"put$",value:function(t,n,r,a,i){var o=new O.a,c=n.getUrl();console.log("put$ url=",c);var s=e.makeHeaders(a);return Object(w.ajaxPut)(c,JSON.stringify(r),s).pipe(Object(x.a)((function(e){return F.success(t,e,i)})),Object(k.a)((function(e){return F.error(e)}))).subscribe(o),o}},{key:"get$",value:function(t,n,r,a){var i=this,o=new O.a,c=n.getUrl(),s=e.makeHeaders(r);return console.log("get$ url",c),Object(w.ajaxGet)(c,s).pipe(Object(x.a)((function(e){"string"===typeof e.response&&(e.response=JSON.parse(e.response));var r=e.response;if("pending"===r.status){if(r.length<=0&&n.localDataPath){var o=new R(Object(j.a)(Object(j.a)({},n),{},{forceLocalMock:!0}));return i.get$(t,o,a)}return J.warning("".concat(r.length," records found: PENDING status may not be necessary")),F.success(t,e,a)}return F.success(t,e,a)})),Object(k.a)((function(e){return J.error(c,"HTTP Issue"),F.error(e)}))).subscribe(o),o}},{key:"getAny$",value:function(t,n){var r=t.getUrl();console.log("getAny$ url",r);var a=e.makeHeaders(n);return Object(w.ajaxGet)(r,a).pipe(Object(x.a)((function(e){return"string"===typeof e.response&&(e.response=JSON.parse(e.response)),F.getAnySuccess(e)})),Object(k.a)((function(e){return J.error(r,"HTTP Issue"),F.error(e)})))}},{key:"rawFetch$",value:function(t,n){var r=e.makeHeaders(n);return Object(w.ajaxGet)(t,r).pipe(Object(x.a)((function(e){return"string"===typeof e.response&&(e.response=JSON.parse(e.response)),Object(g.a)(e.response)})),Object(k.a)((function(e){return J.error(t,"HTTP Issue"),Object(g.a)(e)})))}}],[{key:"makeHeaders",value:function(e,t){var n=null===U||void 0===U?void 0:U.Token.accessToken;if(n){var r={Authorization:"Bearer ".concat(n)};return Object(j.a)(Object(j.a)(Object(j.a)({},r),e),t)}return Object(j.a)(Object(j.a)({},e),t)}}]),e}()),K=function(){function e(){Object(l.a)(this,e),this.accessToken=void 0,this.idToken=void 0,this.refreshToken=void 0}return Object(u.a)(e,[{key:"clear",value:function(){this.accessToken="",this.idToken="",this.refreshToken=""}},{key:"jwtTokenToUser",value:function(e){this.accessToken=e.accessToken.jwtToken,this.idToken=e.idToken.jwtToken,this.refreshToken=e.refreshToken.token}},{key:"isValid",get:function(){var e;return(null===(e=this.accessToken)||void 0===e?void 0:e.length)>20}}]),e}(),B=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(e){var r,a,i;return Object(l.a)(this,n),(i=t.call(this)).id=void 0,i.roles=void 0,i.firstName=void 0,i.lastName=void 0,i.email=void 0,i.password=void 0,i.phoneNumber=void 0,i.gender=void 0,i.isAuthenticated=void 0,i.keycloak=void 0,i.username=void 0,i._token=void 0,i.override(e),i.firstName=null!==(r=null===e||void 0===e?void 0:e.firstName)&&void 0!==r?r:"",i.roles=null!==(a=null===e||void 0===e?void 0:e.roles)&&void 0!==a?a:[],i}return Object(u.a)(n,[{key:"hasRole",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=Object(P.a)(t.split("|"));try{for(n.s();!(e=n.n()).done;){var r=e.value;if(this.roles.includes(r))return!0}}catch(a){n.e(a)}finally{n.f()}return!1}},{key:"hasNoRole",value:function(){return!this.roles.length}},{key:"isPasswordValid",value:function(e){}},{key:"signOut",value:function(){this._token&&(this._token.clear(),this._token=void 0),this.isAuthenticated=!1,this.roles=["ROLE_ANONYMOUS"],this.firstName="Default",this.lastName="User"}},{key:"persona",get:function(){return"".concat(this.firstName||this.userID," ").concat(this.lastName||"")}},{key:"userID",get:function(){return this.email||this.id}},{key:"Token",get:function(){return this._token||(this._token=new K),this._token}}]),n}(M),U=new B({id:"",firstName:"",lastName:"",roles:["ROLE_ANONYMOUS"],email:"",phoneNumber:"",gender:"",isAuthenticated:!1,username:""});var $=function(e){var t=e.message,n=Object(p.a)(e,["message"]),r=n.elevation||6,i=n.variant||"filled";return Object(a.jsx)(b.a,Object(j.a)(Object(j.a)({elevation:r,variant:i},n),{},{children:t}))},H=function(e){return Object(a.jsxs)("div",{"data-testid":"toast-popup",children:[e.title&&Object(a.jsx)("h2",{children:e.title}),Object(a.jsx)("div",{children:e.message})]})},J=new function e(){var t=this;Object(l.a)(this,e),this.display=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"info",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Generic Message",n=arguments.length>2?arguments[2]:void 0;m.broadcastPayload({topic:r.TOAST_DISPLAYED,payload:[{severity:e,message:Object(a.jsx)(H,{message:t,title:n})}]})},this.error=function(e,n){t.display("error",e,n)},this.warning=function(e,n){t.display("warning",e,n)},this.success=function(e,n){t.display("success",e,n)},this.info=function(e,n){t.display("info",e,n)}},Y=n(467),z=n(488),W=n(479),G=(n(485),n(468),n(469)),Q=(n(470),n(161),Object(Y.a)((function(e){return Object(z.a)({summary:{justifyContent:"space-between"},preBlock:{backgroundColor:"#dcdcdc",width:"100%"}})})),function(){return Object(a.jsx)("div",{children:"Empty component displayed if no component is available in K2Render class"})}),q=function(){function e(){Object(l.a)(this,e),this.props={},this.Component=Q}return Object(u.a)(e,[{key:"display",value:function(e){return e&&(this.props=e),Object(c.createElement)(this.Component,this.props)}}]),e}(),Z=n(477),X=n(487),ee=n(473),te=n(474),ne=n(41),re=n(28),ae=n(4),ie=n(9),oe=n(219),ce=(n(292),{headerCheckboxSelection:!1,checkboxSelection:!1,suppressSizeToFit:!0,resizable:!1,filter:!1,sortable:!0,editable:!1,autoHeight:!0}),se=function(e){var t=e.rowSelection?e.rowSelection:"multiple",n=[],r=Object(c.useState)(null)[1],i=e.height?e.height:"1000px";return Object(a.jsxs)(c.Fragment,{children:[Boolean(e.title)&&Object(a.jsxs)(c.Fragment,{children:[Object(a.jsx)(G.a,{variant:"h2",children:e.title}),Object(a.jsx)("br",{})]}),Object(a.jsx)("div",{style:{height:i,width:"100%",minWidth:e.minWidth||300},className:"ag-theme-custom",children:Object(a.jsx)(oe.AgGridReact,Object(j.a)({rowSelection:t,defaultColDef:Object.assign({},ce,e.defaultColumnDef),onSelectionChanged:function(t){if(n=t.api.getSelectedRows(),e.handleChangeSelection){var r=!1,a=t.api.getModel().rowsToDisplay.map((function(e){return e.isSelected()===e.data.selected?e.data:(r=!0,Object.assign({},e.data,{selected:e.isSelected()}))}));!0===r&&e.handleChangeSelection(a,n,t)}},onFirstDataRendered:function(t){t.api.sizeColumnsToFit(),t.api.resetRowHeights(),r(t.api),e.setGridApi&&e.setGridApi(t.api)},onGridSizeChanged:function(t){t.api.sizeColumnsToFit(),e.handleGridSizeChanged&&e.handleGridSizeChanged(t)},onNewColumnsLoaded:function(t){t.api.resetRowHeights(),t.api.sizeColumnsToFit(),e.handleNewColumnsLoaded&&e.handleNewColumnsLoaded(t)},onGridReady:function(t){r(t.api),e.setGridApi&&e.setGridApi(t.api),e.setColumnApi&&e.setColumnApi(t.columnApi),window.setTimeout((function(){t.api.forEachNode((function(e,t){e.setSelected(e.data.selected)}))}),500)},singleClickEdit:!0,suppressColumnVirtualisation:!0,suppressRowClickSelection:!0},e))})]})};se.defaultProps={isHideButtonBar:!0};var le=Object(Y.a)((function(e){return{viewer:{position:"relative"},display:{border:"1px solid white",backgroundColor:"rgba(255,255,255,0.075)",fontSize:"12px",fontWeight:700,height:"75%",paddingLeft:e.spacing(3),paddingRight:e.spacing(3),margin:e.spacing(2),overflowY:"auto",color:e.palette.common.white,position:"absolute",top:0}}})),ue=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).Component=function(t){var n=le();if(!Boolean(t.data.utc))return Object(a.jsx)("div",{children:"Please Wait ..."});var r=Object(re.a)(e);return Object(a.jsxs)(c.Fragment,{children:[Object(a.jsxs)(ie.j,{timeline:!0,fullscreenButton:!1,className:n.viewer,children:[Object(a.jsx)(ie.e,{enableLighting:!0}),Object(a.jsx)(r.SatelliteEntity,{}),Object(a.jsx)(r.VesselEntity,{}),Object(a.jsx)(r.HitEntity,{}),Object(a.jsx)(r.DisplayTable,{})]}),Object(a.jsxs)(W.a,{mt:4,children:[Object(a.jsx)("h4",{children:t.data.utc}),Object(a.jsx)(se,Object(j.a)({},t.gridDefinitions.current))]})]})},e.SatelliteEntity=function(){var t=Object(re.a)(e),n=new ae.NearFarScalar(150,16,8e6,.5);return Object(a.jsx)(c.Fragment,{children:e.props.data.satellites.map((function(e){return Object(a.jsxs)(ie.c,{id:"satellite-".concat(e.id),name:"Satellite #".concat(e.id),position:e.worldLocation,children:[Object(a.jsx)(t.Description,Object(j.a)({},e)),Object(a.jsx)(ie.f,{text:"".concat(e.id),eyeOffset:new ae.Cartesian3(1e6,0,0),scaleByDistance:n}),Object(a.jsx)(ie.a,{image:"/cesium-demo/images/satellite0-64.png",scaleByDistance:n})]},"satellite-".concat(e.id))}))})},e.VesselEntity=function(){var t=Object(re.a)(e);return Object(a.jsx)(c.Fragment,{children:e.props.data.vessels.map((function(e,n){return Object(a.jsxs)(ie.c,{name:"Vessel #".concat(e.id),position:e.worldLocation,children:[Object(a.jsx)(t.Description,Object(j.a)({},e)),Object(a.jsx)(ie.g,{pixelSize:8,color:ae.Color.PLUM})]},"vessel-entity-".concat(n))}))})},e.HitEntity=function(){return Object(a.jsx)(c.Fragment,{children:e.props.data.hits.map((function(e,t){var n=e.satellite.worldLocation,r=e.vessel.worldLocation,i=e.hit?{color:ae.Color.YELLOW}:{color:ae.Color.LAVENDER},o=ae.Material.fromType("Color",i);return Object(a.jsx)(ie.i,{children:Object(a.jsx)(ie.h,{positions:[n,r],material:o})},"s-v-polyline-".concat(t))}))})},e.Description=function(e){var t;return Object(a.jsxs)(ie.d,{children:[null===(t=e.targets)||void 0===t?void 0:t.map((function(e){return Object(a.jsx)("div",{children:null===e||void 0===e?void 0:e.id},"".concat(null===e||void 0===e?void 0:e.id))})),Object(a.jsx)("h1",{children:e.lat}),Object(a.jsx)("h1",{children:e.lon}),Boolean(e.alt)&&Object(a.jsx)("h1",{children:e.alt})]})},e.DisplayTable=function(){var t=le();return Object(a.jsx)("div",{className:t.display,children:e.props.data.satellites.filter((function(e){return Boolean(e.targets.length)})).map((function(e){return Object(a.jsxs)(W.a,{my:1,children:[Object(a.jsxs)("div",{children:["Satellite ",e.id," can see Vessels:"]}),e.targets.map((function(t){return Object(a.jsx)("div",{children:t.id},"satellite-target-".concat(e.id,"-").concat(t.id))}))]},"display-satellite-".concat(e.id))}))})},e}return n}(q),de=function(e){return Object(c.useMemo)((function(){return new e}),[e])},fe=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this)).id=void 0,r.lat=void 0,r.lon=void 0,r.alt=void 0,r.targets=[],r.locationsByHour=[],r.override(e),r}return Object(u.a)(n,[{key:"addTarget",value:function(e){this.targets.push(e)}},{key:"purge",value:function(){this.targets=[]}},{key:"verifyAltitude",value:function(){var e=ae.Cartesian3.fromDegrees(this.lon,this.lat,this.alt),t=ae.Cartesian3.fromDegrees(this.lon,this.lat,0),n=ae.Cartesian3.distance(e,t);alert("".concat(this.alt,"  ===  ").concat(n))}},{key:"worldLocation",get:function(){return ae.Cartesian3.fromDegrees(this.lon,this.lat,this.alt)}}]),n}(M),ve=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this)).extraAlt=0,r.override(e),r}return Object(u.a)(n,[{key:"worldLocation",get:function(){return ae.Cartesian3.fromDegrees(this.lon,this.lat,this.alt+this.extraAlt)}}]),n}(fe),he=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this)).override(e),r}return n}(fe),je=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this)).sat_id=void 0,r.ves_id=void 0,r.azimuth=void 0,r.elevation=void 0,r.range=void 0,r.hit=void 0,r.satellite=void 0,r.vessel=void 0,r.override(e),r}return Object(u.a)(n,[{key:"purge",value:function(){this.satellite=null,this.vessel=null}},{key:"verifyRange",value:function(){var e=this.satellite.worldLocation,t=this.vessel.worldLocation,n=ae.Cartesian3.distance(e,t);alert("".concat(this.range,"  ===  ").concat(n))}},{key:"startEndWorldLocation",get:function(){return[this.satellite.worldLocation,this.vessel.worldLocation]}}]),n}(M),pe=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(e){var r;return Object(l.a)(this,n),(r=t.call(this)).utc=void 0,r.satellites=void 0,r.vessels=void 0,r.pairs=void 0,r.hits=void 0,r.sateliteLookUp={},r.vesselLookUp={},r.override(e),r.satellites=(null===e||void 0===e?void 0:e.satellites.map((function(e){return new ve(e)})))||[],r.satellites.forEach((function(e){r.sateliteLookUp[e.id]=e})),r.vessels=(null===e||void 0===e?void 0:e.vessels.map((function(e){return new he(e)})))||[],r.vessels.forEach((function(e){r.vesselLookUp[e.id]=e})),r.hits=Object.values((null===e||void 0===e?void 0:e.pairs)||{}).filter((function(e){return e.hit})).map((function(e){return new je(e)}))||[],r.hits.forEach((function(e){e.satellite=r.sateliteLookUp[e.sat_id],e.vessel=r.vesselLookUp[e.ves_id],e.satellite.addTarget(e.vessel),e.vessel.addTarget(e.satellite)})),r}return Object(u.a)(n,[{key:"purge",value:function(){this.satellites.forEach((function(e){return e.purge()})),this.vessels.forEach((function(e){return e.purge()})),this.hits.forEach((function(e){return e.purge()})),this.sateliteLookUp={},this.vesselLookUp={}}},{key:"startTime",get:function(){return ae.JulianDate.fromIso8601(this.utc)}}]),n}(M),be=new(function(){function e(){Object(l.a)(this,e)}return Object(u.a)(e,[{key:"getIdListFormatter",value:function(){return function(e){return e.value.map((function(e){return e.id})).join(",\n")}}},{key:"getSnapshotDefinitions",value:function(e){return{rowData:e.satellites,columnDefs:[{field:"id",headerName:"Satellite ID"},{field:"targets",headerName:"Can See Vessels",valueFormatter:this.getIdListFormatter()},{field:"lat",headerName:"Latitude"},{field:"lon",headerName:"Longitude"},{field:"alt",headerName:"Altitude"}]}}},{key:"getPathsOverTimeDefinitions",value:function(e,t){return Boolean(e[t])?{rowData:e[t].satellites,columnDefs:[{field:"id",headerName:"Satellite ID"},{autoHeight:!0,field:"targets",headerName:"Can See Vessels",valueFormatter:this.getIdListFormatter()},{field:"lat",headerName:"Latitude"},{field:"lon",headerName:"Longitude"},{field:"alt",headerName:"Altitude"}]}:{rowData:[],columnDefs:[]}}}]),e}()),Oe=function(e){var t=Object(c.useState)(new pe),n=Object(ne.a)(t,2),a=n[0],i=n[1],o=Object(c.useState)(0)[1],s=Object(c.useRef)("INIT"),l=Object(c.useRef)({rowData:[],columnDefs:[]}),u=a.utc;Object(c.useEffect)((function(){var e,t=new Me;if(u!==s.current){var n=t.getTrackedEntitySnapshot$();e=n.subscribe((function(e){s.current=e.utc,l.current=be.getSnapshotDefinitions(e),i(e)}))}return function(){e&&e.unsubscribe()}}),[u,s,i,l]),Object(c.useEffect)((function(){var e;return e=m.pubSub$().subscribe((function(e){e===r.TIME_INDEX_CHANGED&&o(N.now())})),function(){e&&e.unsubscribe()}}));var d=de(ue);return d.props={data:a,gridDefinitions:l},d.display()},ye=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).Component=function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"One Snapshot"}),Object(a.jsx)(Oe,{})]})},e}return n}(q),me=function(e){return de(ye).display()},ge=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).Component=function(t){var n;if(Boolean(0===(null===(n=t.data)||void 0===n?void 0:n.length)))return Object(a.jsx)("div",{children:"Please Wait ..."});var r=Object(re.a)(e);return Object(a.jsx)(c.Fragment,{children:Object(a.jsxs)(ie.j,{timeline:!0,fullscreenButton:!1,children:[Object(a.jsx)(ie.e,{enableLighting:!0}),Object(a.jsx)(r.VesselTrackEntity,{})]})})},e.VesselTrackEntity=function(){return Object(a.jsx)(c.Fragment,{children:e.props.data.map((function(e,t){return Object(a.jsx)(ie.c,{name:"Vessel #".concat(e.id),position:e.worldLocation,children:Object(a.jsx)(ie.g,{pixelSize:10,color:ae.Color.YELLOW})},"vessel-entity-".concat(t))}))})},e}return n}(q),xe=function(){var e=Object(c.useState)([]),t=Object(ne.a)(e,2),n=t[0],r=t[1];Object(c.useEffect)((function(){var e,t=new Me;if(0===(null===n||void 0===n?void 0:n.length)){var a=t.getShipTracks$();e=a.subscribe((function(e){r(e)}))}return function(){e&&e.unsubscribe()}}),[n,r]);var a=de(ge);return a.props={data:n},a.display()},ke=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).Component=function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Tracking Ship ALASKA SPIRIT"}),Object(a.jsx)(xe,{})]})},e}return n}(q),we=function(e){return de(ke).display()},Se=Object(ie.k)({name:"Timeline",create:function(e,t){var n;if(null===(n=e.viewer)||void 0===n?void 0:n.timeline){var r=e.viewer.timeline;return r.zoomTo(t.startTime,t.stopTime),r}},destroy:function(e){!e.isDestroyed&&e.destroy()}}),Te=Object(Y.a)((function(e){return{viewer:{position:"relative"},display:{border:"1px solid white",backgroundColor:"rgba(255,255,255,0.075)",fontSize:"12px",fontWeight:700,height:"75%",paddingLeft:e.spacing(3),paddingRight:e.spacing(3),margin:e.spacing(2),overflowY:"auto",color:e.palette.common.white,position:"absolute",top:0}}})),Pe=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).currentSnapshot=void 0,e.dataPoints=void 0,e.start=void 0,e.finish=void 0,e.onTickFunc=function(t){var n=ae.JulianDate.secondsDifference(t.currentTime,e.start),r=ae.JulianDate.secondsDifference(e.finish,e.start),a=Math.floor(e.dataPoints.length*(n/r));n>r&&(a=0),a!==e.props.index&&e.props.setIndex(a)},e.Component=function(t){var n;if(Boolean(0===(null===(n=t.data)||void 0===n?void 0:n.length)))return Object(a.jsx)("div",{children:"Please Wait ..."});var r=Te(),i=Object(re.a)(e);void 0===e.start&&(e.dataPoints=t.data,e.start=e.dataPoints[0].startTime,e.finish=e.dataPoints[e.dataPoints.length-1].startTime),e.currentSnapshot=e.dataPoints[t.index];var o=e.currentSnapshot.startTime;return Object(a.jsxs)(c.Fragment,{children:[Object(a.jsxs)(ie.j,{timeline:!0,fullscreenButton:!1,className:r.viewer,children:[Object(a.jsx)(ie.e,{enableLighting:!0}),Object(a.jsx)(ie.b,{startTime:e.start,currentTime:o,stopTime:e.finish,clockRange:ae.ClockRange.LOOP_STOP,clockStep:ae.ClockStep.SYSTEM_CLOCK_MULTIPLIER,multiplier:120,shouldAnimate:!1,onTick:e.onTickFunc}),Object(a.jsx)(Se,{startTime:e.start,stopTime:e.finish}),Object(a.jsx)(i.SatelliteEntity,{}),Object(a.jsx)(i.VesselEntity,{}),Object(a.jsx)(i.HitEntity,{}),Object(a.jsx)(i.DisplayTable,{})]}),Object(a.jsxs)(W.a,{mt:4,children:[Object(a.jsx)("h4",{children:e.dataPoints[t.index].utc}),Object(a.jsx)(se,Object(j.a)({},t.gridDefinitions.current))]})]})},e.SatelliteEntity=function(t){var n,r=Object(re.a)(e),i=new ae.NearFarScalar(150,16,8e6,.5);return Object(a.jsx)(c.Fragment,{children:null===(n=e.currentSnapshot)||void 0===n?void 0:n.satellites.map((function(e,t){return Object(a.jsxs)(ie.c,{id:"satellite-".concat(e.id),name:"Satellite #".concat(e.id),position:e.worldLocation,children:[Object(a.jsx)(r.Description,Object(j.a)({},e)),Object(a.jsx)(ie.f,{text:"".concat(e.id),eyeOffset:new ae.Cartesian3(1e6,0,0),scaleByDistance:i}),Object(a.jsx)(ie.a,{image:"/cesium-demo/images/satellite0-64.png",scaleByDistance:i})]},"satellite-".concat(e.id))}))})},e.VesselEntity=function(t){var n,r=Object(re.a)(e);return Object(a.jsx)(c.Fragment,{children:null===(n=e.currentSnapshot)||void 0===n?void 0:n.vessels.map((function(e,t){return Object(a.jsxs)(ie.c,{name:"Vessel #".concat(e.id),position:e.worldLocation,children:[Object(a.jsx)(r.Description,Object(j.a)({},e)),Object(a.jsx)(ie.g,{pixelSize:8,color:ae.Color.PLUM})]},"vessel-entity-".concat(t))}))})},e.HitEntity=function(t){var n;return Object(a.jsx)(c.Fragment,{children:null===(n=e.currentSnapshot)||void 0===n?void 0:n.hits.map((function(e,t){var n=e.satellite.worldLocation,r=e.vessel.worldLocation,i=e.hit?{color:ae.Color.YELLOW}:{color:ae.Color.LAVENDER},o=ae.Material.fromType("Color",i);return Object(a.jsx)(ie.i,{children:Object(a.jsx)(ie.h,{positions:[n,r],material:o})},"s-v-polyline-".concat(t))}))})},e.Description=function(e){var t;return Object(a.jsxs)(ie.d,{children:[null===(t=e.targets)||void 0===t?void 0:t.map((function(e){return Object(a.jsx)("div",{children:null===e||void 0===e?void 0:e.id},"".concat(null===e||void 0===e?void 0:e.id))})),Object(a.jsx)("h1",{children:e.lat}),Object(a.jsx)("h1",{children:e.lon}),Boolean(e.alt)&&Object(a.jsx)("h1",{children:e.alt})]})},e.DisplayTable=function(t){var n,r=Te(),i=null===(n=e.currentSnapshot)||void 0===n?void 0:n.satellites.filter((function(e){return Boolean(e.targets.length)})).map((function(e){return Object(a.jsxs)(W.a,{my:1,children:[Object(a.jsxs)("div",{children:["Satellite ",e.id," can see Vessels:"]}),e.targets.map((function(t){return Object(a.jsx)("div",{children:t.id},"satellite-target-".concat(e.id,"-").concat(t.id))}))]},"display-satellite-".concat(e.id))}));return Boolean(i.length)?Object(a.jsx)("div",{className:r.display,children:i}):Object(a.jsx)(c.Fragment,{})},e}return n}(q),De=function(e){var t=Object(c.useState)(0),n=Object(ne.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)([]),o=Object(ne.a)(i,2),s=o[0],l=o[1],u=Object(c.useRef)({rowData:[],columnDefs:[]});Object(c.useEffect)((function(){var e,t=new Me;if(0===(null===s||void 0===s?void 0:s.length)){var n=t.getTrackedEntity6HourTimeline$();e=n.subscribe((function(e){l(e)}))}return function(){e&&e.unsubscribe()}}),[s,l,r]),u.current=be.getPathsOverTimeDefinitions(s,r);var d=de(Pe);return d.props={data:s,index:r,setIndex:a,gridDefinitions:u},d.display()},Ce=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).Component=function(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Satellite Vessel Paths Over Time"}),Object(a.jsx)(De,{})]})},e}return n}(q),Ee=function(e){return de(Ce).display()},Le=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).Component=function(t){var n,r;if(Boolean(0===(null===(n=t.data)||void 0===n?void 0:n.length)))return Object(a.jsx)("div",{children:"Please Wait ..."});var i=Object(re.a)(e);return Object(a.jsxs)(c.Fragment,{children:[Object(a.jsxs)(ie.j,{timeline:!0,fullscreenButton:!1,children:[Object(a.jsx)(ie.e,{enableLighting:!0}),Object(a.jsx)(i.AllVesselTrackEntity,{})]}),Object(a.jsxs)("h2",{children:["Item count: ",null===(r=t.data)||void 0===r?void 0:r.length]})]})},e.AllVesselTrackEntity=function(){return Object(a.jsx)(c.Fragment,{children:e.props.data.map((function(e,t){return Object(a.jsx)(ie.c,{name:"Vessel #".concat(e.id),position:e.worldLocation,children:Object(a.jsx)(ie.g,{pixelSize:10,color:ae.Color.LIGHTCORAL})},"Vessel-entity-".concat(t))}))})},e}return n}(q),Ae=function(){var e=Object(c.useState)([]),t=Object(ne.a)(e,2),n=t[0],r=t[1];Object(c.useEffect)((function(){var e,t=new Me;if(0===(null===n||void 0===n?void 0:n.length)){var a=t.getAllShipTracks$();e=a.subscribe((function(e){r(e)}))}return function(){e&&e.unsubscribe()}}),[n,r]);var a=de(Le);return a.props={data:n},a.display()},Ie=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).Component=function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"All Vessels"}),Object(a.jsx)(Ae,{})]})},e}return n}(q),Ne=function(e){return de(Ie).display()},Me=function(){function e(){Object(l.a)(this,e),this.http=_}return Object(u.a)(e,[{key:"getTrackedEntitySnapshot$",value:function(){var e=new O.a,t=new R({serviceKey:"getTrackedEntitySnapshot$",localMockData:!0,localDataPath:"/satelliteVessel10.json",endpoint:"/vault"});return this.http.get$(pe,t).subscribe((function(n){if(n.hasError)console.warn(n.message,t.serviceKey),J.warning(n.message,t.endpoint);else if(n.length<=0)console.error("Must return at least 1 item in payload",t.serviceKey),J.error("Must return at least 1 item in payload",t.serviceKey);else{var r=n.payload[0];e.next(r)}})),e}},{key:"getDistanceTest$",value:function(){var e=new O.a,t=new R({serviceKey:"getDistanceTest$",localMockData:!0,localDataPath:"/distanceTest.json",endpoint:"/vault"});return this.http.get$(pe,t).subscribe((function(n){if(n.hasError)console.warn(n.message,t.serviceKey),J.warning(n.message,t.endpoint);else if(n.length<=0)console.error("Must return at least 1 item in payload",t.serviceKey),J.error("Must return at least 1 item in payload",t.serviceKey);else{var r=n.payload[0];e.next(r)}})),e}},{key:"getShipTracks$",value:function(){var e=new O.a,t=new R({serviceKey:"getShipTracks$",localMockData:!0,localDataPath:"/shipALASKASPIRIT.json",endpoint:"/vault"});return this.http.get$(he,t,void 0,(function(e){return e._source})).subscribe((function(n){if(n.hasError)console.warn(n.message,t.serviceKey),J.warning(n.message,t.endpoint);else if(n.length<=0)console.error("Must return at least 1 item in payload",t.serviceKey),J.error("Must return at least 1 item in payload",t.serviceKey);else{var r=n.payload;e.next(r)}})),e}},{key:"getTrackedEntity6HourTimeline$",value:function(){var e=new O.a,t=new R({serviceKey:"getTrackedEntity6HourTimeline$",localMockData:!0,localDataPath:"/satelliteVessel10Hours6.json",endpoint:"/vault"});return this.http.get$(pe,t).subscribe((function(n){if(n.hasError)console.warn(n.message,t.serviceKey),J.warning(n.message,t.endpoint);else if(n.length<=0)console.error("Must return at least 1 item in payload",t.serviceKey),J.error("Must return at least 1 item in payload",t.serviceKey);else{var r=n.payload;e.next(r)}})),e}},{key:"getTrackedEntityPythonOutput1$",value:function(){var e=new O.a,t=new R({serviceKey:"getTrackedEntity6HourTimeline$",localMockData:!0,localDataPath:"/pythonoutput20210107_1500.json",endpoint:"/vault"});return this.http.get$(pe,t).subscribe((function(n){if(n.hasError)console.warn(n.message,t.serviceKey),J.warning(n.message,t.endpoint);else if(n.length<=0)console.error("Must return at least 1 item in payload",t.serviceKey),J.error("Must return at least 1 item in payload",t.serviceKey);else{var r=n.payload;e.next(r)}})),e}},{key:"getTrackedEntityPipelineOutput9Sat10Ves$",value:function(){var e=new O.a,t=new R({serviceKey:"getTrackedEntity6HourTimeline$",localMockData:!0,localDataPath:"/9sats_10vessels_20170115_pipeline_output.json",endpoint:"/vault"});return this.http.get$(pe,t).subscribe((function(n){if(n.hasError)console.warn(n.message,t.serviceKey),J.warning(n.message,t.endpoint);else if(n.length<=0)console.error("Must return at least 1 item in payload",t.serviceKey),J.error("Must return at least 1 item in payload",t.serviceKey);else{var r=n.payload;e.next(r)}})),e}},{key:"getAllShipTracks$",value:function(){var e=new O.a,t=new R({serviceKey:"getAllShipTracks$",localMockData:!0,localDataPath:"/ships10000.json",endpoint:"/vault"});return this.http.get$(he,t,void 0,(function(e){return e._source})).subscribe((function(n){if(n.hasError)console.warn(n.message,t.serviceKey),J.warning(n.message,t.endpoint);else if(n.length<=0)console.error("Must return at least 1 item in payload",t.serviceKey),J.error("Must return at least 1 item in payload",t.serviceKey);else{var r=n.payload;e.next(r)}})),e}}]),e}(),Ve=n(133),Re=n(246),Fe={sidebar:{width:240},overrides:{RaMenu:{open:{width:"100%"}}}},_e=Object(Re.a)(Object.assign(Ve.a,Fe)),Ke=Object(Y.a)((function(e){return{viewer:{position:"relative"},display:{border:"1px solid white",backgroundColor:"rgba(255,255,255,0.075)",fontSize:"12px",fontWeight:700,height:"75%",paddingLeft:e.spacing(3),paddingRight:e.spacing(3),margin:e.spacing(2),overflowY:"auto",color:e.palette.common.white,position:"absolute",top:0}}})),Be=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).currentSnapshot=void 0,e.dataPoints=void 0,e.start=void 0,e.finish=void 0,e.onTickFunc=function(t){var n=ae.JulianDate.secondsDifference(t.currentTime,e.start),r=ae.JulianDate.secondsDifference(e.finish,e.start),a=Math.floor(e.dataPoints.length*(n/r));n>r&&(a=0),a!==e.props.index&&e.props.setIndex(a)},e.Component=function(t){var n;if(Boolean(0===(null===(n=t.data)||void 0===n?void 0:n.length)))return Object(a.jsx)("div",{children:"Please Wait ..."});var r=Ke(),i=Object(re.a)(e);void 0===e.start&&(e.dataPoints=t.data,e.start=e.dataPoints[0].startTime,e.finish=e.dataPoints[e.dataPoints.length-1].startTime),e.currentSnapshot=e.dataPoints[t.index];var o=e.currentSnapshot.startTime;return Object(a.jsxs)(c.Fragment,{children:[Object(a.jsxs)(ie.j,{timeline:!0,fullscreenButton:!1,className:r.viewer,children:[Object(a.jsx)(ie.e,{enableLighting:!0}),Object(a.jsx)(ie.b,{startTime:e.start,currentTime:o,stopTime:e.finish,clockRange:ae.ClockRange.LOOP_STOP,clockStep:ae.ClockStep.SYSTEM_CLOCK_MULTIPLIER,multiplier:120,shouldAnimate:!1,onTick:e.onTickFunc}),Object(a.jsx)(Se,{startTime:e.start,stopTime:e.finish}),Object(a.jsx)(i.SatelliteEntity,{}),Object(a.jsx)(i.VesselEntity,{}),Object(a.jsx)(i.HitEntity,{}),Object(a.jsx)(i.DisplayTable,{})]}),Object(a.jsxs)(W.a,{mt:4,children:[Object(a.jsx)("h4",{children:e.dataPoints[t.index].utc}),Object(a.jsx)(se,Object(j.a)({},t.gridDefinitions.current))]})]})},e.SatelliteEntity=function(t){var n,r=Object(re.a)(e),i=new ae.NearFarScalar(150,16,8e6,.5);return Object(a.jsx)(c.Fragment,{children:null===(n=e.currentSnapshot)||void 0===n?void 0:n.satellites.map((function(e,t){return Object(a.jsxs)(ie.c,{id:"satellite-".concat(e.id),name:"Satellite #".concat(e.id),position:e.worldLocation,children:[Object(a.jsx)(r.Description,Object(j.a)({},e)),Object(a.jsx)(ie.f,{text:"".concat(e.id),eyeOffset:new ae.Cartesian3(1e6,0,0),scaleByDistance:i}),Object(a.jsx)(ie.a,{image:"/cesium-demo/images/satellite0-64.png",scaleByDistance:i})]},"satellite-".concat(e.id))}))})},e.VesselEntity=function(t){var n,r=Object(re.a)(e);return Object(a.jsx)(c.Fragment,{children:null===(n=e.currentSnapshot)||void 0===n?void 0:n.vessels.map((function(e,t){return Object(a.jsxs)(ie.c,{name:"Vessel #".concat(e.id),position:e.worldLocation,children:[Object(a.jsx)(r.Description,Object(j.a)({},e)),Object(a.jsx)(ie.g,{pixelSize:8,color:ae.Color.PLUM})]},"vessel-entity-".concat(t))}))})},e.HitEntity=function(t){var n;return Object(a.jsx)(c.Fragment,{children:null===(n=e.currentSnapshot)||void 0===n?void 0:n.hits.map((function(e,t){var n=e.satellite.worldLocation,r=e.vessel.worldLocation,i=e.hit?{color:ae.Color.YELLOW}:{color:ae.Color.LAVENDER},o=ae.Material.fromType("Color",i);return Object(a.jsx)(ie.i,{children:Object(a.jsx)(ie.h,{positions:[n,r],material:o})},"s-v-polyline-".concat(t))}))})},e.Description=function(e){var t;return Object(a.jsxs)(ie.d,{children:[null===(t=e.targets)||void 0===t?void 0:t.map((function(e){return Object(a.jsx)("div",{children:null===e||void 0===e?void 0:e.id},"".concat(null===e||void 0===e?void 0:e.id))})),Object(a.jsx)("h1",{children:e.lat}),Object(a.jsx)("h1",{children:e.lon}),Boolean(e.alt)&&Object(a.jsx)("h1",{children:e.alt})]})},e.DisplayTable=function(t){var n,r=Ke(),i=null===(n=e.currentSnapshot)||void 0===n?void 0:n.satellites.filter((function(e){return Boolean(e.targets.length)})).map((function(e){return Object(a.jsxs)(W.a,{my:1,children:[Object(a.jsxs)("div",{children:["Satellite ",e.id," can see Vessels:"]}),e.targets.map((function(t){return Object(a.jsx)("div",{children:t.id},"satellite-target-".concat(e.id,"-").concat(t.id))}))]},"display-satellite-".concat(e.id))}));return Boolean(i.length)?Object(a.jsx)("div",{className:r.display,children:i}):Object(a.jsx)(c.Fragment,{})},e}return n}(q),Ue=function(e){var t=Object(c.useState)(0),n=Object(ne.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)([]),o=Object(ne.a)(i,2),s=o[0],l=o[1],u=Object(c.useRef)({rowData:[],columnDefs:[]});Object(c.useEffect)((function(){var e,t=new Me;if(0===(null===s||void 0===s?void 0:s.length)){var n=t.getTrackedEntityPythonOutput1$();e=n.subscribe((function(e){l(e)}))}return function(){e&&e.unsubscribe()}}),[s,l,r]),u.current=be.getPathsOverTimeDefinitions(s,r);var d=de(Be);return d.props={data:s,index:r,setIndex:a,gridDefinitions:u},d.display()},$e=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).Component=function(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Satellite Vessel Paths Over Time"}),Object(a.jsx)(Ue,{})]})},e}return n}(q),He=function(e){return de($e).display()},Je=Object(Y.a)((function(e){return{viewer:{position:"relative"},display:{border:"1px solid white",backgroundColor:"rgba(255,255,255,0.075)",fontSize:"12px",fontWeight:700,height:"75%",paddingLeft:e.spacing(3),paddingRight:e.spacing(3),margin:e.spacing(2),overflowY:"auto",color:e.palette.common.white,position:"absolute",top:0}}})),Ye=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).currentSnapshot=void 0,e.dataPoints=void 0,e.start=void 0,e.finish=void 0,e.onTickFunc=function(t){var n=ae.JulianDate.secondsDifference(t.currentTime,e.start),r=ae.JulianDate.secondsDifference(e.finish,e.start),a=Math.floor(e.dataPoints.length*(n/r));n>r&&(a=0),a!==e.props.index&&e.props.setIndex(a)},e.Component=function(t){var n;if(Boolean(0===(null===(n=t.data)||void 0===n?void 0:n.length)))return Object(a.jsx)("div",{children:"Please Wait ..."});var r=Je(),i=Object(re.a)(e);void 0===e.start&&(e.dataPoints=t.data,e.start=e.dataPoints[0].startTime,e.finish=e.dataPoints[e.dataPoints.length-1].startTime),e.currentSnapshot=e.dataPoints[t.index];var o=e.currentSnapshot.startTime;return Object(a.jsxs)(c.Fragment,{children:[Object(a.jsxs)(ie.j,{timeline:!0,fullscreenButton:!1,className:r.viewer,children:[Object(a.jsx)(ie.e,{enableLighting:!0}),Object(a.jsx)(ie.b,{startTime:e.start,currentTime:o,stopTime:e.finish,clockRange:ae.ClockRange.LOOP_STOP,clockStep:ae.ClockStep.SYSTEM_CLOCK_MULTIPLIER,multiplier:120,shouldAnimate:!1,onTick:e.onTickFunc}),Object(a.jsx)(Se,{startTime:e.start,stopTime:e.finish}),Object(a.jsx)(i.SatelliteEntity,{}),Object(a.jsx)(i.VesselEntity,{}),Object(a.jsx)(i.HitEntity,{}),Object(a.jsx)(i.DisplayTable,{})]}),Object(a.jsxs)(W.a,{mt:4,children:[Object(a.jsx)("h4",{children:e.dataPoints[t.index].utc}),Object(a.jsx)(se,Object(j.a)({},t.gridDefinitions.current))]})]})},e.SatelliteEntity=function(t){var n,r=Object(re.a)(e),i=new ae.NearFarScalar(150,16,8e6,.5);return Object(a.jsx)(c.Fragment,{children:null===(n=e.currentSnapshot)||void 0===n?void 0:n.satellites.map((function(e,t){return Object(a.jsxs)(ie.c,{id:"satellite-".concat(e.id),name:"Satellite #".concat(e.id),position:e.worldLocation,children:[Object(a.jsx)(r.Description,Object(j.a)({},e)),Object(a.jsx)(ie.f,{text:"".concat(e.id),eyeOffset:new ae.Cartesian3(1e6,0,0),scaleByDistance:i}),Object(a.jsx)(ie.a,{image:"/cesium-demo/images/satellite0-64.png",scaleByDistance:i})]},"satellite-".concat(e.id))}))})},e.VesselEntity=function(t){var n,r=Object(re.a)(e);return Object(a.jsx)(c.Fragment,{children:null===(n=e.currentSnapshot)||void 0===n?void 0:n.vessels.map((function(e,t){return Object(a.jsxs)(ie.c,{name:"Vessel #".concat(e.id),position:e.worldLocation,children:[Object(a.jsx)(r.Description,Object(j.a)({},e)),Object(a.jsx)(ie.g,{pixelSize:8,color:ae.Color.PLUM})]},"vessel-entity-".concat(t))}))})},e.HitEntity=function(t){var n;return Object(a.jsx)(c.Fragment,{children:null===(n=e.currentSnapshot)||void 0===n?void 0:n.hits.map((function(e,t){var n=e.satellite.worldLocation,r=e.vessel.worldLocation,i=e.hit?{color:ae.Color.YELLOW}:{color:ae.Color.LAVENDER},o=ae.Material.fromType("Color",i);return Object(a.jsx)(ie.i,{children:Object(a.jsx)(ie.h,{positions:[n,r],material:o})},"s-v-polyline-".concat(t))}))})},e.Description=function(e){var t;return Object(a.jsxs)(ie.d,{children:[null===(t=e.targets)||void 0===t?void 0:t.map((function(e){return Object(a.jsx)("div",{children:null===e||void 0===e?void 0:e.id},"".concat(null===e||void 0===e?void 0:e.id))})),Object(a.jsx)("h1",{children:e.lat}),Object(a.jsx)("h1",{children:e.lon}),Boolean(e.alt)&&Object(a.jsx)("h1",{children:e.alt})]})},e.DisplayTable=function(t){var n,r=Je(),i=null===(n=e.currentSnapshot)||void 0===n?void 0:n.satellites.filter((function(e){return Boolean(e.targets.length)})).map((function(e){return Object(a.jsxs)(W.a,{my:1,children:[Object(a.jsxs)("div",{children:["Satellite ",e.id," can see Vessels:"]}),e.targets.map((function(t){return Object(a.jsx)("div",{children:t.id},"satellite-target-".concat(e.id,"-").concat(t.id))}))]},"display-satellite-".concat(e.id))}));return Boolean(i.length)?Object(a.jsx)("div",{className:r.display,children:i}):Object(a.jsx)(c.Fragment,{})},e}return n}(q),ze=function(e){var t=Object(c.useState)(0),n=Object(ne.a)(t,2),r=n[0],a=n[1],i=Object(c.useState)([]),o=Object(ne.a)(i,2),s=o[0],l=o[1],u=Object(c.useRef)({rowData:[],columnDefs:[]});Object(c.useEffect)((function(){var e,t=new Me;if(0===(null===s||void 0===s?void 0:s.length)){var n=t.getTrackedEntityPipelineOutput9Sat10Ves$();e=n.subscribe((function(e){l(e)}))}return function(){e&&e.unsubscribe()}}),[s,l,r]),u.current=be.getPathsOverTimeDefinitions(s,r);var d=de(Ye);return d.props={data:s,index:r,setIndex:a,gridDefinitions:u},d.display()},We=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).Component=function(e){return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{children:"Satellite Vessel Paths Over Time"}),Object(a.jsx)(ze,{})]})},e}return n}(q),Ge=function(e){return de(We).display()},Qe=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).Component=function(e){return Object(a.jsxs)(Z.a,{dataProvider:e.dataProvider,disableTelemetry:!0,theme:_e,children:[Object(a.jsx)(X.a,{name:"home",list:me,icon:ee.a,options:{label:"Snapshot"}}),Object(a.jsx)(X.a,{name:"python-output-1",list:He,icon:te.a,options:{label:"Python Output 1"}}),Object(a.jsx)(X.a,{name:"pipeline-output-1",list:Ge,icon:te.a,options:{label:"Pipeline Output 9,10"}}),Object(a.jsx)(X.a,{name:"example-1",list:we,icon:te.a,options:{label:"Ship ALASKA SPIRIT"}}),Object(a.jsx)(X.a,{name:"example-2",list:Ee,icon:te.a,options:{label:"Paths Over Time"}}),Object(a.jsx)(X.a,{name:"example-3",list:Ne,icon:te.a,options:{label:"All Vessels"}})]})},e}return n}(q),qe=n(242),Ze=function(e){var t=Object(c.useState)(new Qe)[0],n=Object(qe.a)({});return t.props={dataProvider:n},t.display()},Xe=function(e){Object(d.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(l.a)(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).Component=function(t){return Object(a.jsxs)(c.Fragment,{children:[Object(a.jsx)(v.a,{}),Object(a.jsx)(Ze,{}),t.snackbarQueue.map((function(t,n){return Object(a.jsx)(h.a,{anchorOrigin:{vertical:"top",horizontal:"center"},onClose:t.onClose,open:t.open,autoHideDuration:t.autoHideDuration,style:{top:e.getSnackbarTopPosition(n)},children:Object(a.jsxs)(c.Fragment,{children:[t.open&&Object(a.jsx)($,{severity:t.severity,message:t.message}),!t.open&&Object(a.jsx)("span",{})]})},"snackbar-".concat(n))}))]})},e}return Object(u.a)(n,[{key:"getSnackbarTopPosition",value:function(e){return"".concat(24+56*e,"px")}}]),n}(q),et=function(e){var t=Object(c.useState)(new Xe)[0];return t.props={snackbarQueue:[]},t.display()},tt=function(e){return Object(a.jsx)(c.StrictMode,{children:Object(a.jsx)(s.a,{children:Object(a.jsx)(et,{})})})},nt=function(){return Object(c.createElement)(tt)},rt=n(244),at=n(245),it=function(){function e(){Object(l.a)(this,e)}return Object(u.a)(e,null,[{key:"pingServer$",value:function(){var e=new O.a,t=new R({serviceKey:"pingServer$",endpoint:"/ping"}),n=_.get$(M,t).subscribe((function(t){var r=t.message,a=t.error;a&&console.log(a);var i=!!r&&r.toLowerCase().indexOf("up")>=0;n.unsubscribe(),e.next(i),e.complete()}),(function(t){e.error(t)}));return e}},{key:"configureCesium",value:function(e){ae.Ion.defaultAccessToken=e.cesiumToken}},{key:"loadConfiguration$",value:function(){var t=new O.a,n=rt;return n=at,V.override(n),_.rawFetch$("/envVars.json").subscribe((function(r){V.envVars=r,!V.production&&n.baseUrl&&(V.envVars.REACT_APP_BASE_URL=n.baseUrl),e.configureCesium(n),t.next(!0),t.complete()}),(function(e){t.error(e)})),t}}]),e}();n(411);it.loadConfiguration$().subscribe((function(e){o.a.render(Object(a.jsx)(nt,{}),document.getElementById("root")),it.pingServer$().subscribe((function(e){V.didHealthCheckPass=e;var t="".concat("production",": ").concat(V.version," \n ").concat(V.envVars.REACT_APP_BASE_URL);J.info(t)}),(function(e){V.didHealthCheckPass=!1}))}))}},[[412,1,2]]]);
//# sourceMappingURL=main.aed31c7e.chunk.js.map