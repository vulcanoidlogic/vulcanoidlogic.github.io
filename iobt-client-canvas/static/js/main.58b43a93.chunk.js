(this["webpackJsonpiobt-client-canvas"]=this["webpackJsonpiobt-client-canvas"]||[]).push([[0],{100:function(e){e.exports=JSON.parse('{"baseURL":"https://iobtweb.azurewebsites.net","rootAPIPath":"/api","localDebug":true,"mesh":[{"name":"n1","url":"http://localhost:5000"},{"name":"n2","url":"https://iobtmesh.azurewebsites.net"}],"defaultLatLng":[38.5876921,-79.39259]}')},132:function(e,t,n){},133:function(e,t,n){"use strict";n.r(t);var i=n(1),r=n(26),a=n.n(r),o=n(163),s=n(162),c=n(101),u=n(72),h=n(22),l=n(172),d=n(159),v=n(160),f=n(161),y=n(153),b=n(171),m=n(15),g=n(81),p=n(167),k=n(61),O=n.n(k),A=n(10),j=["children","fullWidth","isHidden"],w=Object(y.a)((function(e){return{root:{whiteSpace:"nowrap"}}})),x=function(e){var t=e.children,n=e.fullWidth,r=void 0!==n&&n,a=e.isHidden,o=void 0!==a&&a,s=Object(g.a)(e,j),c=w();return o?Object(A.jsx)(i.Fragment,{}):Object(A.jsx)(p.a,Object(m.a)(Object(m.a)({},s),{},{fullWidth:r,className:O()(c.root,s.className),children:t}))},P=function(e){return Object(A.jsx)(x,Object(m.a)(Object(m.a)({},e),{},{color:"inherit"}))},E=n(0),C=n(37),M=n(3),S=n(4),D=n(2),I=new(function(){function e(){Object(E.a)(this,e),this.registry={}}return Object(D.a)(e,[{key:"Pub",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(this.registry[e])return this.registry[e].forEach((function(e){e.apply(null,n)})),this}},{key:"Sub",value:function(e,t){return this.registry[e]||(this.registry[e]=[]),this.registry[e].push(t),this}},{key:"Unsub",value:function(e,t){return this.registry[e]&&delete this.registry[e],this}},{key:"Clear",value:function(){return this.registry={},this}}]),e}()),N=n(42),L=function(e){Object(M.a)(n,e);var t=Object(S.a)(n);function n(){var e,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2?arguments[2]:void 0;return Object(E.a)(this,n),(e=t.call(this,i,r)).myName=void 0,e.x=void 0,e.y=void 0,e.myName=a||"",e}return Object(D.a)(n,[{key:"asVector",value:function(){return new N.a(this.x,this.y)}},{key:"setValues",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x=e,this.y=t,this}},{key:"clonePoint",value:function(){return new n(this.x,this.y,this.myName)}},{key:"isEqualTo",value:function(e){return this.x===e.x&&this.y===e.y}},{key:"isNear",value:function(e,t){return!(Math.abs(e.x-this.x)>t)&&!(Math.abs(e.y-this.y)>t)}},{key:"addPoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x+=e,this.y+=t,this}},{key:"subtractPoint",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return this.x-=e,this.y-=t,this}},{key:"midPoint",value:function(e){return new n((this.x+e.x)/2,(this.y+e.y)/2,"midpoint")}},{key:"mag",value:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"atan",value:function(){return Math.atan2(this.y,this.x)}},{key:"normal",value:function(){var e=this.mag();return e=e||1,new n(this.x/e,this.y/e,"normal")}},{key:"sum",value:function(e){return this.x+=e.x,this.y+=e.y,this}},{key:"sumTo",value:function(e){return e.x+=this.x,e.y+=this.y,e}},{key:"setTo",value:function(e){return e.x=this.x,e.y=this.y,e}},{key:"subtract",value:function(e){return this.x-=e.x,this.y-=e.y,this}},{key:"deltaBetween",value:function(e){return new n(this.x-e.x,this.y-e.y,"delta")}},{key:"scale",value:function(e){return this.x*=e,this.y*=e,this}}]),n}(N.a),T=function(){function e(t){Object(E.a)(this,e),this.x1=void 0,this.y1=void 0,this.x2=void 0,this.y2=void 0,this.point=new L,this.source=void 0,this.source=t}return Object(D.a)(e,[{key:"set",value:function(e,t,n,i){return this.x1=e,this.y1=t,this.x2=n,this.y2=i,this}},{key:"width",value:function(){return this.x2-this.x1}},{key:"heigth",value:function(){return this.y2-this.y1}},{key:"centerX",value:function(){return(this.x2+this.x1)/2}},{key:"centerY",value:function(){return(this.y2+this.y1)/2}},{key:"init",value:function(e){return this.x1=e.x,this.y1=e.y,this.x2=e.x,this.y2=e.y,this}},{key:"merge",value:function(e){return this.x1=Math.min(this.x1,e.x1,e.x2),this.y1=Math.min(this.y1,e.y1,e.y2),this.x2=Math.max(this.x2,e.x2,e.x1),this.y2=Math.max(this.y2,e.y2,e.y1),this}},{key:"minmax",value:function(e){return this.x1=Math.min(this.x1,e.x),this.y1=Math.min(this.y1,e.y),this.x2=Math.max(this.x2,e.x),this.y2=Math.max(this.y2,e.y),this}},{key:"contains",value:function(e,t){return this.x1<=e&&e<=this.x2&&this.y1<=t&&t<=this.y2}},{key:"draw",value:function(e,t){var n=this.x2-this.x1,i=this.y2-this.y1;return t?e.fillRect(this.x1,this.y1,n,i):e.rect(this.x1,this.y1,n,i),this}}]),e}(),R=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;Object(E.a)(this,e),this.left=0,this.top=0,this.right=0,this.bottom=0,this.left=t,this.top=n,this.right=i,this.bottom=r}return Object(D.a)(e,[{key:"setAll",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return this.left=e,this.top=e,this.right=e,this.bottom=e,this}},{key:"width",get:function(){return this.left+this.right}},{key:"height",get:function(){return this.top+this.bottom}}]),e}(),G=function(){function e(){var t=this;Object(E.a)(this,e),this._request=void 0,this.stopped=!0,this.canvas=void 0,this.context=void 0,this.requestAnimation=window.requestAnimationFrame||window.webkitRequestAnimationFrame,this.cancelAnimation=window.cancelAnimationFrame,this.render=void 0,this.doAnimate=function(){t.render(t.context),t._request=t.requestAnimation(t.doAnimate)}}return Object(D.a)(e,[{key:"go",value:function(e){this.stopped=!1,this.doAnimate(),e&&e()}},{key:"stop",value:function(e){this.stopped=!0,this.cancelAnimation(this._request),e&&e()}},{key:"toggleOnOff",value:function(){return this.stopped?this.go():this.stop(),this.stopped}},{key:"clear",value:function(){this.context&&this.context.clearRect(0,0,this.canvas.width,this.canvas.height)}},{key:"resizeRoot",value:function(e,t){return this.canvas&&(this.canvas.width=e,this.canvas.height=t),this.canvas}},{key:"setRoot",value:function(e,t,n){this.canvas=e,this.context=this.canvas.getContext("2d"),this.resizeRoot(t,n),this.context.lineWidth=1,this.context.lineCap="round",this.context.strokeStyle="#000",this.pubMouseEvents(this.canvas)}},{key:"pubMouseEvents",value:function(e){var t=new L;function n(n,i){var r=e.getBoundingClientRect(),a=r.left,o=r.top;return t.setValues(n-a,i-o)}function i(n){var i=e.getBoundingClientRect(),r=i.left,a=i.top;return t.setValues(n.clientX-r,n.clientY-a)}function r(e){return{code:e.keyCode,shift:e.shiftKey,ctrl:e.ctrlKey,alt:e.altKey,meta:e.metaKey}}function a(e){return{shift:e.shiftKey,ctrl:e.ctrlKey,alt:e.altKey,button:e.button}}e.ownerDocument.addEventListener("keypress",(function(e){var t=r(e);I.Pub("onkeypress",e,t)})),e.ownerDocument.addEventListener("keydown",(function(e){var t=r(e);I.Pub("onkeydown",e,t)})),e.ownerDocument.addEventListener("keyup",(function(e){var t=r(e);I.Pub("onkeyup",e,t)})),e.addEventListener("mousedown",(function(e){e.preventDefault();var t=i(e),n=a(e);I.Pub("mousedown",t,e,n)})),e.addEventListener("touchstart",(function(e){e.preventDefault();var t=n(e.touches[0].clientX,e.touches[0].clientY);I.Pub("mousedown",t,e,{})})),e.addEventListener("mousemove",(function(e){e.preventDefault();var t=i(e),n=a(e);I.Pub("mousemove",t,e,n)})),e.addEventListener("touchmove",(function(e){e.preventDefault();var t=n(e.touches[0].clientX,e.touches[0].clientY);I.Pub("mousemove",t,e,{})})),e.addEventListener("wheel",(function(e){e.preventDefault();var t=i(e),n=a(e),r=Math.max(-1,Math.min(1,e.deltaX||-e.detail))>0?1.1:1/1.1,o=new L(e.offsetX,e.offsetY);I.Pub("wheel",t,o,r,e,n)})),e.addEventListener("dblclick",(function(e){e.preventDefault();var t=i(e),n=a(e);I.Pub("dblclick",t,e,n)})),e.addEventListener("click",(function(e){e.preventDefault();var t=i(e),n=a(e);I.Pub("click",t,e,n)})),e.addEventListener("mouseup",(function(e){e.preventDefault();var t=i(e),n=a(e);I.Pub("mouseup",t,e,n)})),e.addEventListener("touchend",(function(e){e.preventDefault();var t=n(e.changedTouches[0].clientX,e.changedTouches[0].clientY);I.Pub("mouseup",t,e,{})})),e.addEventListener("mouseover",(function(e){e.preventDefault();var t=i(e),n=a(e);I.Pub("mouseover",t,e,n)})),e.addEventListener("mouseout",(function(e){e.preventDefault();var t=i(e),n=a(e);I.Pub("mouseout",t,e,n)}))}}]),e}();var U,B=n(164),H=["draw"],V=function(e){e.draw;var t=Object(g.a)(e,H),n=function(e){var t=e.draw,n=Object(i.useRef)(null);return Object(i.useEffect)((function(){var i=0;if(n.current){var r=n.current,a=r.getContext("2d");(new G).setRoot(r,e.width,e.height),function e(){a&&(t(a,i),i=window.requestAnimationFrame(e))}()}return function(){window.cancelAnimationFrame(i)}}),[t,e]),n}(e),r=Object(i.useState)(void 0)[1],a=Object(i.useState)(0)[1];return Object(i.useEffect)((function(){I.Sub("mousemove",(function(e,t,n){a((new Date).getTime()),r(e)}))}),[r,a]),Object(A.jsxs)(B.a,{children:[Object(A.jsx)("h1",{children:e.title}),Object(A.jsx)("canvas",Object(m.a)({ref:n},t))]})},F=function(e){return Object(A.jsxs)("pre",{children:[JSON.stringify(e.children,void 0,3)," "]})},W=function(){return Object(A.jsx)("div",{children:"Empty component displayed if no component is available in FoRender class"})},Q=function(){function e(){Object(E.a)(this,e),this.props={},this.Component=W}return Object(D.a)(e,[{key:"display",value:function(e){return e&&(this.props=e),Object(i.createElement)(this.Component,this.props)}}]),e}(),K=n(168),Y=function(e){Object(M.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(E.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).model=void 0,e.actionButtons=void 0,e.platformJSON=void 0,e.Component=function(t){return Object(A.jsxs)(i.Fragment,{children:[Object(A.jsx)(B.a,{display:"flex",flexWrap:"wrap",children:e.actionButtons}),Object(A.jsx)(V,Object(m.a)({},e.model.canvas2Params)),Object(A.jsx)(K.a,{only:"xs",children:Object(A.jsx)(F,{children:e.model.asPlatform(!0)})})]})},e}return n}(Q),Z=n(8),q=n(7),z=n(32);!function(e){e.UNKNOWN="unknown",e.AT="@",e.THIS="this",e.SELF="self",e.ROOT="root"}(U||(U={}));var X=new(function(){function e(){Object(E.a)(this,e),this.hasOwnProperty=Object.prototype.hasOwnProperty}return Object(D.a)(e,[{key:"getFunctionName",value:function(e){var t=e.toString();return(t=(t=t.substr("function ".length)).substr(0,t.indexOf("("))).trim()}},{key:"generateUUID",value:function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:7&n|8).toString(16)}))}},{key:"asJson",value:function(e){var t=this.stringify(e);return JSON.parse(t)}},{key:"stringify",value:function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;function n(e){return e&&e.asReference?"resolveRef("+e.asReference()+","+e.constructor.name+")":e}function i(e,t){switch(e){case"myParent":return n(t);case"myMembers":return t?t.map((function(e){return n(e)})):t;case"_subcomponents":case"_lookup":case"_members":return t}if(!e.startsWith("_"))return t}return JSON.stringify(e,i,t)}},{key:"splitNamespaceType",value:function(e,t){var n=e.split("::"),i={namespace:"",name:e};return 2===n.length?i={namespace:n[0],name:n[1]}:t&&(i={namespace:n[0],name:t}),i}},{key:"getNamespace",value:function(e){var t=e.myType?e.myType.split("::"):[""];return t=t[0]}},{key:"getType",value:function(e){var t=e.myType?e.myType.split("::"):[""];return t=2===t.length?t[1]:t[0]}},{key:"namespace",value:function(e,t){return"".concat(e,"::").concat(t)}},{key:"randomInt",value:function(e,t){return e+Math.floor(Math.random()*(t-e+1))}},{key:"random",value:function(e,t){return e+Math.random()*(t-e)}},{key:"randomRGBColor",value:function(){var e=255*Math.random()|0,t=255*Math.random()|0,n=255*Math.random()|0;return"rgb(".concat(e,",").concat(t,",").concat(n,")")}},{key:"matches",value:function(e,t){return e===t||e&&t&&e.toLocaleLowerCase()===t.toLocaleLowerCase()}},{key:"startsWith",value:function(e,t){return e===t||e&&t&&e.toLocaleLowerCase().startsWith(t.toLocaleLowerCase())}},{key:"capitalizeFirstLetter",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},{key:"isSelf",value:function(e){return this.matches(e,U.AT)||this.matches(e,U.THIS)||this.matches(e,U.SELF)}},{key:"isArray",value:function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}},{key:"isFunction",value:function(e){return"function"===typeof e}},{key:"isString",value:function(e){return"string"===typeof e}},{key:"isNumber",value:function(e){return"number"===typeof e}},{key:"isDate",value:function(e){return e instanceof Date}},{key:"isObject",value:function(e){return e&&"object"===typeof e}},{key:"isCustomLinkName",value:function(e){return!1}},{key:"isTyped",value:function(e){return e&&e.isInstanceOf}},{key:"isEmpty",value:function(e){if(null==e)return!0;if(e.length>0)return!1;if(0===e.length)return!0;if("object"!==typeof e)return!0;for(var t in e)if(this.hasOwnProperty.call(e,t))return!1;return!0}},{key:"removeDQ",value:function(e){return e.replace(/^"(.*)"$/,"$1")}},{key:"unwrap",value:function(e){return e.substring(1,e.length-1)}},{key:"wrapDQ",value:function(e){return'"'.concat(e,'"')}},{key:"wrapSQ",value:function(e){return"'".concat(e,"'")}},{key:"decomposeHostPath",value:function(e){var t=e.toLowerCase(),n=(t=(t=t.replace("http://","")).replace("https://","")).split("/")[0];return{fullpath:e,host:n,path:t.replace(n,"")}}},{key:"extend",value:function(e,t){if(!t)return e;for(var n in t)this.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}},{key:"mixin",value:function(e,t){if(!t)return e;if(!e)return t;var n,i=Object(z.a)(t);try{for(i.s();!(n=i.n()).done;){var r=n.value;e[r]=t[r]}}catch(a){i.e(a)}finally{i.f()}return e}},{key:"mixExact",value:function(t,n){if(!n)return t;if(!t)return n;for(var i in n)e.hasOwnProperty.call(t,i)&&(t[i]=n[i]);return t}},{key:"mixout",value:function(e,t){if(!t)return e;if(!e)return t;for(var n in t)this.hasOwnProperty.call(e,n)&&delete e[n];return e}},{key:"extract",value:function(e,t){var n={};return t&&t.forEach((function(t){Reflect.set(n,t,Reflect.getOwnPropertyDescriptor(e,t).value)})),n}},{key:"mixMap",value:function(e,t){if(!t)return e;var n={};for(var i in e){var r=t[i]||i;Reflect.set(n,r,Reflect.getOwnPropertyDescriptor(e,i).value)}return n}},{key:"intersect",value:function(e,t){if(!t)return e;if(!e)return t;var n={};for(var i in e)this.hasOwnProperty.call(t,i)?Reflect.set(n,i,Reflect.getOwnPropertyDescriptor(t,i).value):Reflect.set(n,i,Reflect.getOwnPropertyDescriptor(e,i).value);return n}},{key:"union",value:function(e,t){var n={};if(e)for(var i in e)Reflect.set(n,i,Reflect.getOwnPropertyDescriptor(e,i).value);if(t)for(var r in t)Reflect.set(n,r,Reflect.getOwnPropertyDescriptor(t,r).value);return n}},{key:"defineComputeOnlyProperty",value:function(e,t,n){return Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:n}),e}},{key:"defineCalculatedProperty",value:function(e,t,n){return Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:n,set:function(e){this["_".concat(t)]=e}}),e}},{key:"getMethods",value:function(e){var t=[];for(var n in e.prototype)"function"===typeof e[n]&&t.push(n);return t}},{key:"asArray",value:function(e,t){return this.isArray(e)?e:this.mapOverKeyValue(e,(function(e,n){return t?t(e,n):n}))}},{key:"applyOverKeyValue",value:function(e,t){var n=this,i={};return(e?Object.keys(e):[]).forEach((function(r){if(n.hasOwnProperty.call(e,r)){var a=e[r],o=t(r,a);o&&Reflect.set(i,r,o)}})),i}},{key:"mapOverKeyValue",value:function(e,t){var n=this,i=[];return(e?Object.keys(e):[]).forEach((function(r){if(n.hasOwnProperty.call(e,r)){var a=e[r],o=t(r,a);o&&i.push(o)}})),i}},{key:"forEachKeyValue",value:function(e,t){var n=this;(e?Object.keys(e):[]).forEach((function(i){if(n.hasOwnProperty.call(e,i)){var r=e[i];t(i,r)}}))}},{key:"findKeyForValue",value:function(e,t){for(var n in e)if(this.hasOwnProperty.call(e,t)&&e[n].matches(t))return n;return e}},{key:"extractReadWriteKeys",value:function(e){var t=[];return X.forEachKeyValue(e,(function(e,n){X.isFunction(n)||t.push(e)})),t}},{key:"extractComputedKeys",value:function(e){var t=[];return X.forEachKeyValue(e,(function(e,n){X.isFunction(n)&&t.push(e)})),t}},{key:"overrideComputed",value:function(e,t){X.forEachKeyValue(t,(function(t,n){try{X.isFunction(n)?X.defineCalculatedProperty(e,t,n):e[t]=n}catch(i){console.log(i)}}))}},{key:"extendComputed",value:function(e,t){X.forEachKeyValue(t,(function(t,n){try{e[t]||(X.isFunction(n)?X.defineCalculatedProperty(e,t,n):e[t]=n)}catch(i){console.log(i)}}))}},{key:"pluck",value:function(e){return function(t){return t[e]}}},{key:"distinctItems",value:function(e){var t={};return e.forEach((function(e){Reflect.set(t,e,e)})),Object.keys(t)}},{key:"groupBy",value:function(e,t){var n={};return t.forEach((function(t){var i=e(t);(Reflect.getOwnPropertyDescriptor(n,i).value||[]).push(t)})),n}}]),e}()),J=function(){function e(t){Object(E.a)(this,e),this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,t&&this.copy(t)}return Object(D.a)(e,[{key:"append",value:function(e,t,n,i,r,a){var o=this.a,s=this.b,c=this.c,u=this.d;return 1===e&&0===t&&0===n&&1===i||(this.a=o*e+c*t,this.b=s*e+u*t,this.c=o*n+c*i,this.d=s*n+u*i),this.tx=o*r+c*a+this.tx,this.ty=s*r+u*a+this.ty,this}},{key:"prepend",value:function(e,t,n,i,r,a){var o=this.a,s=this.c,c=this.tx;return this.a=e*o+n*this.b,this.b=t*o+i*this.b,this.c=e*s+n*this.d,this.d=t*s+i*this.d,this.tx=e*c+n*this.ty+r,this.ty=t*c+i*this.ty+a,this}},{key:"set",value:function(e,t,n,i,r,a){return this.a=e,this.b=t,this.c=n,this.d=i,this.tx=r,this.ty=a,this}},{key:"appendMatrix",value:function(e){return this.append(e.a,e.b,e.c,e.d,e.tx,e.ty)}},{key:"prependMatrix",value:function(e){return this.prepend(e.a,e.b,e.c,e.d,e.tx,e.ty)}},{key:"appendTransform",value:function(t,n,i,r,a,o,s,c,u){if(a%360)var h=a*e.DEG_TO_RAD,l=Math.cos(h),d=Math.sin(h);else l=1,d=0;return o||s?(o*=e.DEG_TO_RAD,s*=e.DEG_TO_RAD,this.append(Math.cos(s),Math.sin(s),-Math.sin(o),Math.cos(o),t,n),this.append(l*i,d*i,-d*r,l*r,0,0)):this.append(l*i,d*i,-d*r,l*r,t,n),(c||u)&&(this.tx-=c*this.a+u*this.c,this.ty-=c*this.b+u*this.d),this}},{key:"prependTransform",value:function(t,n,i,r,a,o,s,c,u){if(a%360)var h=a*e.DEG_TO_RAD,l=Math.cos(h),d=Math.sin(h);else l=1,d=0;return(c||u)&&(this.tx-=c,this.ty-=u),o||s?(o*=e.DEG_TO_RAD,s*=e.DEG_TO_RAD,this.prepend(l*i,d*i,-d*r,l*r,0,0),this.prepend(Math.cos(s),Math.sin(s),-Math.sin(o),Math.cos(o),t,n)):this.prepend(l*i,d*i,-d*r,l*r,t,n),this}},{key:"rotate",value:function(t){t*=e.DEG_TO_RAD;var n=Math.cos(t),i=Math.sin(t),r=this.a,a=this.b;return this.a=r*n+this.c*i,this.b=a*n+this.d*i,this.c=-r*i+this.c*n,this.d=-a*i+this.d*n,this}},{key:"skew",value:function(t,n){return t*=e.DEG_TO_RAD,n*=e.DEG_TO_RAD,this.append(Math.cos(n),Math.sin(n),-Math.sin(t),Math.cos(t),0,0),this}},{key:"scale",value:function(e,t){return this.a*=e,this.b*=e,this.c*=t,this.d*=t,this}},{key:"translate",value:function(e,t){return this.tx+=this.a*e+this.c*t,this.ty+=this.b*e+this.d*t,this}},{key:"identity",value:function(){return this.a=this.d=1,this.b=this.c=this.tx=this.ty=0,this}},{key:"invert",value:function(){var e=this.a,t=this.b,n=this.c,i=this.d,r=this.tx,a=e*i-t*n;return this.a=i/a,this.b=-t/a,this.c=-n/a,this.d=e/a,this.tx=(n*this.ty-i*r)/a,this.ty=-(e*this.ty-t*r)/a,this}},{key:"invertCopy",value:function(){return new e(this).invert()}},{key:"isIdentity",value:function(){return 0===this.tx&&0===this.ty&&1===this.a&&0===this.b&&0===this.c&&1===this.d}},{key:"equals",value:function(e){return this.tx===e.tx&&this.ty===e.ty&&this.a===e.a&&this.b===e.b&&this.c===e.c&&this.d===e.d}},{key:"transformPoint",value:function(e,t,n){return(n=n||new L).x=e*this.a+t*this.c+this.tx,n.y=e*this.b+t*this.d+this.ty,n}},{key:"invertPoint",value:function(e,t,n){return this.invertCopy().transformPoint(e,t,n)}},{key:"decompose",value:function(t){null==t&&(t={}),t.x=this.tx,t.y=this.ty,t.scaleX=Math.sqrt(this.a*this.a+this.b*this.b),t.scaleY=Math.sqrt(this.c*this.c+this.d*this.d);var n=Math.atan2(-this.c,this.d),i=Math.atan2(this.b,this.a);return Math.abs(1-n/i)<1e-5?(t.rotation=i/e.DEG_TO_RAD,this.a<0&&this.d>=0&&(t.rotation+=t.rotation<=0?180:-180),t.skewX=t.skewY=0):(t.skewX=n/e.DEG_TO_RAD,t.skewY=i/e.DEG_TO_RAD),t}},{key:"copy",value:function(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}},{key:"clone",value:function(){return new e(this)}},{key:"toString",value:function(){return"[Matrix2D (a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+")]"}}]),e}();J.DEG_TO_RAD=Math.PI/180;new J;var _,$=n(19),ee=n(102),te=n(166),ne=0;!function(e){e[e.primitive=0]="primitive",e[e.defined=1]="defined",e[e.created=2]="created",e[e.destroyed=3]="destroyed"}(_||(_={}));var ie=function(){function e(t,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0;Object(E.a)(this,e),this.id=0,this.cmd="",this.object=void 0,this.value=void 0,this.id=i,this.cmd=t,this.object=n,this.value=r}return Object(D.a)(e,[{key:"guid",get:function(){return this.object.myGuid}},{key:"simpleGuid",get:function(){return this.object.myGuid.slice(-8)}},{key:"myGuid",get:function(){return this.object.myGuid}},{key:"myType",get:function(){return this.object.myType}},{key:"myName",get:function(){return this.object.myName}},{key:"isNamed",value:function(e){return X.matches(e,this.myName)}},{key:"isCmd",value:function(e){return X.matches(e,this.cmd)}}]),e}(),re=function(){function e(){Object(E.a)(this,e),this._processLock={}}return Object(D.a)(e,[{key:"isLocked",value:function(e){return!!this._processLock[e]}},{key:"addLock",value:function(e){this.isLocked(e)||(this._processLock[e]=0),this._processLock[e]+=1}},{key:"unLock",value:function(e){this.isLocked(e)&&(this._processLock[e]-=1,this._processLock[e]<=0&&delete this._processLock[e])}},{key:"protected",value:function(e,t,n){this.addLock(e);try{n(t)}catch(i){console.error("protected",i)}this.unLock(e)}},{key:"whenUnprotected",value:function(e,t,n){if(!this.isLocked(e))try{n(t)}catch(i){console.error("whenUnprotected ",i)}}}]),e}(),ae=(new re,new re,function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;Object(E.a)(this,e),this.mute=!1,this.observable=void 0,this.emit=void 0,this.debounced=void 0,this.emit=new ee.a,this.observable=this.emit.asObservable(),this.debounced=new ee.a,this.debounced.asObservable().pipe(Object(te.a)(n)).subscribe((function(e){e.id=ne++,t.broadcast(e)}))}return Object(D.a)(e,[{key:"broadcast",value:function(e){return!this.mute&&this.emit.next(e),this}},{key:"primitive",value:function(e,t){return this.broadcast(new ie("primitive",e,ne++,t)),this}},{key:"defined",value:function(e){return this.broadcast(new ie("defined",e,ne++)),this}},{key:"event",value:function(e,t,n){return this.broadcast(new ie(e,t,ne++,n)),this}},{key:"created",value:function(e,t){return this.broadcast(new ie("created",e,ne++,t)),this}},{key:"destroyed",value:function(e){return this.broadcast(new ie("destroyed",e,ne++)),this}},{key:"unparent",value:function(e){return this.broadcast(new ie("unparent",e,ne++)),this}},{key:"reparent",value:function(e){return this.broadcast(new ie("reparent",e,ne++)),this}},{key:"action",value:function(e,t,n){return this.broadcast(new ie("run",e,ne++,{action:t,params:n})),this}},{key:"command",value:function(e,t){return this.broadcast(new ie("command",e,ne++,t)),this}},{key:"selected",value:function(e,t){return this.broadcast(new ie("selected",e,ne++,t)),this}},{key:"pageSelections",value:function(e,t){return this.broadcast(new ie("pageselections",e,ne++,t)),this}},{key:"layout",value:function(e,t){return this.broadcast(new ie("layout",e,ne++,t)),this}},{key:"changed",value:function(e,t){return this.broadcast(new ie("changed",e,ne++,t)),this}},{key:"glued",value:function(e,t){return this.broadcast(new ie("glued",e,ne++,t)),this}},{key:"unglued",value:function(e,t){return this.broadcast(new ie("unglued",e,ne++,t)),this}},{key:"dropped",value:function(e,t){return this.broadcast(new ie("dropped",e,ne++,t)),this}},{key:"handle",value:function(e,t){return this.debounced.next(new ie("handle",e,ne++,t)),this}},{key:"moved",value:function(e,t){return this.debounced.next(new ie("moved",e,ne++,t)),this}},{key:"easeTo",value:function(e,t){return this.broadcast(new ie("easeTo",e,ne++,t)),this}},{key:"easeTween",value:function(e,t){return this.broadcast(new ie("easeTween",e,ne++,t)),this}},{key:"moveComplete",value:function(e,t){return this.debounced.next(new ie("moveComplete",e,ne++,t)),this}}]),e}()),oe=new ae(300);new ae;var se,ce=function(){function e(t,n){Object(E.a)(this,e),this._myGuid=void 0,this.myName=U.UNKNOWN,this.myParent=void 0,this._isVisible=!0,this._isHitable=!0,this.myClass=void 0,this._displayName=void 0,n&&(this.myParent=function(){return n}),this.override(t)}return Object(D.a)(e,[{key:"isVisible",get:function(){return this._isVisible},set:function(e){this._isVisible=e}},{key:"isInvisible",get:function(){return!this._isVisible},set:function(e){this._isVisible=!e}},{key:"isHitable",get:function(){return this._isHitable},set:function(e){this._isHitable=e}},{key:"show",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._isVisible=!!e,this}},{key:"hide",value:function(){return this._isVisible=!1,this}},{key:"isPublic",get:function(){return this._isVisible}},{key:"myType",get:function(){return this.constructor.name},set:function(e){}},{key:"myGuid",get:function(){return this._myGuid||(this._myGuid=X.generateUUID()),this._myGuid},set:function(e){this._myGuid||(this._myGuid=e)}},{key:"generateName",value:function(){var e=this.myGuid.slice(-6);return this.myName="".concat(this.myType,"_").concat(e),this}},{key:"defaultName",value:function(e){return e?this.myName=e:X.matches(this.myName,U.UNKNOWN)&&this.generateName(),this}},{key:"displayName",get:function(){return this._displayName?this._displayName:"".concat(this.myName," - ").concat(this.myType)},set:function(e){this._displayName=e}},{key:"setName",value:function(e){return this.myName=e,this}},{key:"is2D",value:function(){return!1}},{key:"is3D",value:function(){return!1}},{key:"asReference",value:function(){var e=this.myParent&&this.myParent();return e?"".concat(this.myName,".").concat(e.asReference()):U.ROOT}},{key:"then",value:function(e){return e(this),this}},{key:"hasAncestor",value:function(e){if(e===this)return!0;var t=this.myParent&&this.myParent();return e===t||Boolean(t&&(null===t||void 0===t?void 0:t.hasAncestor(e)))}},{key:"hasParent",get:function(){return!!(this.myParent&&this.myParent())}},{key:"removeParent",value:function(e){return this.hasParent&&this.myParent&&this.myParent()===e&&(this.myParent=void 0),this.hasParent}},{key:"setParent",value:function(e){return(this.myParent&&this.myParent())!==e&&(this.myParent=function(){return e}),this}},{key:"wait",value:function(e,t){return setTimeout(t,e),this}},{key:"getChildAt",value:function(e){}},{key:"extract",value:function(e,t){var n=this,i=t||{};return e&&e.forEach((function(e){i[e]=Reflect.getOwnPropertyDescriptor(n,e).value})),i}},{key:"override",value:function(e){return e&&X.overrideComputed(this,e),this}},{key:"extend",value:function(e){return e&&X.extendComputed(this,e),this}},{key:"getMethodList",value:function(){var e,t=(e=this,Object.getOwnPropertyNames(e).filter((function(t){return"function"===typeof e[t]}))),n=this,i={};return t.forEach((function(e){Reflect.set(i,e,Reflect.getOwnPropertyDescriptor(n,e).value)})),t}},{key:"debug",get:function(){return X.stringify(this)}},{key:"asJsonRaw",get:function(){var e=X.stringify(this);return JSON.parse(e)}},{key:"asJson",get:function(){return this.toJson()}},{key:"toJson",value:function(){return{myName:this.myName,myGuid:this.myGuid,myType:this.myType}}},{key:"jsonMerge",value:function(e){var t=X.asJson(this);return X.isEmpty(e)||X.forEachKeyValue(e,(function(e,n){if(!t[e]&&!X.isEmpty(n)){var i=n&&n.asJson;t[e]=i||n}})),t}}],[{key:"beep",value:function(){new Audio("data:audio/wav;base64,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qJrx4KOQjahZxWbcZgztj2c49nKmkId44S71j0c8eV9yDK6uPRzx5X18eDvjvQ6yKo9ZSS6l//8elePK/Lf//IInrOF/FvDoADYAGBMGb7FtErm5MXMlmPAJQVgWta7Zx2go+8xJ0UiCb8LHHdftWyLJE0QIAIsI+UbXu67dZMjmgDGCGl1H+vpF4NSDckSIkk7Vd+sxEhBQMRU8j/12UIRhzSaUdQ+rQU5kGeFxm+hb1oh6pWWmv3uvmReDl0UnvtapVaIzo1jZbf/pD6ElLqSX+rUmOQNpJFa/r+sa4e/pBlAABoAAAAA3CUgShLdGIxsY7AUABPRrgCABdDuQ5GC7DqPQCgbbJUAoRSUj+NIEig0YfyWUho1VBBBA//uQZB4ABZx5zfMakeAAAAmwAAAAF5F3P0w9GtAAACfAAAAAwLhMDmAYWMgVEG1U0FIGCBgXBXAtfMH10000EEEEEECUBYln03TTTdNBDZopopYvrTTdNa325mImNg3TTPV9q3pmY0xoO6bv3r00y+IDGid/9aaaZTGMuj9mpu9Mpio1dXrr5HERTZSmqU36A3CumzN/9Robv/Xx4v9ijkSRSNLQhAWumap82WRSBUqXStV/YcS+XVLnSS+WLDroqArFkMEsAS+eWmrUzrO0oEmE40RlMZ5+ODIkAyKAGUwZ3mVKmcamcJnMW26MRPgUw6j+LkhyHGVGYjSUUKNpuJUQoOIAyDvEyG8S5yfK6dhZc0Tx1KI/gviKL6qvvFs1+bWtaz58uUNnryq6kt5RzOCkPWlVqVX2a/EEBUdU1KrXLf40GoiiFXK///qpoiDXrOgqDR38JB0bw7SoL+ZB9o1RCkQjQ2CBYZKd/+VJxZRRZlqSkKiws0WFxUyCwsKiMy7hUVFhIaCrNQsKkTIsLivwKKigsj8XYlwt/WKi2N4d//uQRCSAAjURNIHpMZBGYiaQPSYyAAABLAAAAAAAACWAAAAApUF/Mg+0aohSIRobBAsMlO//Kk4soosy1JSFRYWaLC4qZBYWFRGZdwqKiwkNBVmoWFSJkWFxX4FFRQWR+LsS4W/rFRb/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////VEFHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAU291bmRib3kuZGUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMjAwNGh0dHA6Ly93d3cuc291bmRib3kuZGUAAAAAAAAAACU=").play()}},{key:"jsonAlert",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"JSON Alert";try{alert(t+"\r"+JSON.stringify(e,void 0,3))}catch(n){alert(t+"\r"+JSON.stringify(e.asJson,void 0,3)),alert(n)}}}]),e}(),ue=function(e){Object(M.a)(n,e);var t=Object(S.a)(n);function n(e,i){var r;return Object(E.a)(this,n),(r=t.call(this,e,i)).opacity=1,r.isSelected=!1,r.color=void 0,r._x=void 0,r._y=void 0,r._width=void 0,r._height=void 0,r.rotationZ=function(){return 0},r.doubleClick=void 0,r.openEditor=void 0,r.closeEditor=void 0,r.drawHover=void 0,r.setupHoverEnterDraw=void 0,r.setupHoverExitDraw=void 0,r.setupOverlapEnterDraw=void 0,r.setupOverlapExitDraw=void 0,r.sendKeys=void 0,r.preDraw=void 0,r.postDraw=void 0,r._matrix=void 0,r._invMatrix=void 0,r._boundry=new T(Object($.a)(r)),r.isDragable=function(){return!0},r.getOffset=function(e){var t=r.x,n=r.y;return new L(t-e.x,n-e.y)},r.getLocation=function(){return{x:r.x,y:r.y,z:0}},r.setLocation=function(e){r.x=e?e.x:0,r.y=e?e.y:0},r.localHitTest=function(e){var t=e.x,n=e.y,i=r.globalToLocal(t,n);return!(i.x<0)&&(!(i.x>r.width)&&(!(i.y<0)&&!(i.y>r.height)))},r.hitTest=function(e){return r.isHitable&&r.isVisible&&r.localHitTest(e)},r.overlapTest=function(e){var t=r.globalToLocalFrame(e.x1,e.y1,e.x2,e.y2);return!!r.localContains(t.x1,t.y1)||(!!r.localContains(t.x1,t.y2)||(!!r.localContains(t.x2,t.y1)||!!r.localContains(t.x2,t.y2)))},r.afterRender=function(e){e.save(),e.lineWidth=4,e.strokeStyle="pink",r.drawBoundry(e),e.restore()},r.drawTextCircle=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Math.PI/2,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(t){e.save(),e.textAlign="center",e.textBaseline="middle",e.translate(r,a),e.rotate(i-Math.PI/2);for(var o=t.length,s=0;s<o;s++){var c=t[s],u=e.measureText(c).width/n*.5;e.rotate(u),e.save(),e.translate(0,-n),e.fillText(c,0,0),e.restore(),e.rotate(u)}e.restore()}},r.drawText=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;t&&e.fillText(t,n,i)},r.drawSelected=function(e){e.strokeStyle="red",e.lineWidth=4,r.drawOutline(e),r.drawPin(e)},r.draw=function(e){e.fillStyle=r.color,e.lineWidth=1,e.fillRect(0,0,r.width,r.height)},r.override(e),r}return Object(D.a)(n,[{key:"x",get:function(){return this._x||0},set:function(e){this.smash(),this._x=e}},{key:"y",get:function(){return this._y||0},set:function(e){this.smash(),this._y=e}},{key:"width",get:function(){return this._width||0},set:function(e){this._width=e}},{key:"height",get:function(){return this._height||0},set:function(e){this._height=e}},{key:"smash",value:function(){this._matrix=void 0,this._invMatrix=void 0}},{key:"computeBoundry",value:function(e){var t=this.getGlobalMatrix(),n=e.point;return e.init(t.transformPoint(0,0,n)),e.minmax(t.transformPoint(0,this.height,n)),e.minmax(t.transformPoint(this.width,0,n)),e.minmax(t.transformPoint(this.width,this.height,n)),e}},{key:"boundryFrame",get:function(){return this.computeBoundry(this._boundry),this._boundry}},{key:"drawBoundry",value:function(e){e.beginPath(),e.setLineDash([5,5]),this.boundryFrame.draw(e,!1),e.stroke()}},{key:"is2D",value:function(){return!0}},{key:"set",value:function(e,t,n,i){return this.x=e,this.y=t,this.width=n,this.height=i,this}},{key:"contains",value:function(e,t){return this.x<=e&&e<=this.x+this.width&&this.y<=t&&t<=this.y+this.height}},{key:"localContains",value:function(e,t){return 0<=e&&e<=this.width&&0<=t&&t<=this.height}},{key:"toJson",value:function(){return X.mixin(Object(Z.a)(Object(q.a)(n.prototype),"toJson",this).call(this),{x:this.x,y:this.y,width:this.width,height:this.height})}},{key:"initialize",value:function(){arguments.length>0&&void 0!==arguments[0]||Number.NaN,arguments.length>1&&void 0!==arguments[1]||Number.NaN,arguments.length>2&&void 0!==arguments[2]||Number.NaN;return this}},{key:"didLocationChange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.NaN,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.NaN,n=(arguments.length>2&&void 0!==arguments[2]||Number.NaN,!1);return Number.isNaN(e)||this.x===e||(n=!0,this.x=e),Number.isNaN(t)||this.y===t||(n=!0,this.y=t),n}},{key:"easeToNoLifecycle",value:function(e,t){return this.initialize(e,t),this}},{key:"easeTween",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;return oe.easeTween(this,{time:t,undefined:void 0,to:e}),this}},{key:"dropAt",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.NaN,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.NaN,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.NaN;return this.didLocationChange(e,t,n)&&oe.dropped(this,this.getLocation()),this}},{key:"move",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.NaN,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.NaN,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.NaN;return this.didLocationChange(e,t,n)&&oe.moved(this,this.getLocation()),this}},{key:"moveTo",value:function(e,t){var n=e.x+(t&&t.x?t.x:0),i=e.y+(t&&t.y?t.y:0);return this.move(n,i)}},{key:"moveBy",value:function(e,t){var n=this.x+e.x+(t&&t.x?t.x:0),i=this.y+e.y+(t&&t.y?t.y:0);return this.move(n,i)}},{key:"updateContext",value:function(e){var t=this.getMatrix();e.transform(t.a,t.b,t.c,t.d,t.tx,t.ty),e.globalAlpha*=this.opacity}},{key:"getGlobalMatrix",value:function(){var e=new J(this.getMatrix()),t=this.myParent&&this.myParent();return t&&e.prependMatrix(t.getGlobalMatrix()),e}},{key:"getMatrix",value:function(){return void 0===this._matrix&&(this._matrix=new J,this._matrix.appendTransform(this.x,this.y,1,1,0,0,0,0,0)),this._matrix}},{key:"getInvMatrix",value:function(){return void 0===this._invMatrix&&(this._invMatrix=this.getMatrix().invertCopy()),this._invMatrix}},{key:"localToGlobal",value:function(e,t,n){return this.getGlobalMatrix().transformPoint(e,t,n)}},{key:"localToGlobalPoint",value:function(e){return this.getGlobalMatrix().transformPoint(e.x,e.y,e)}},{key:"globalToLocal",value:function(e,t,n){return this.getGlobalMatrix().invertCopy().transformPoint(e,t,n)}},{key:"globalToLocalPoint",value:function(e){return this.getGlobalMatrix().invertCopy().transformPoint(e.x,e.y,e)}},{key:"globalToLocalFrame",value:function(e,t,n,i,r){r=r||new T;var a=this.getGlobalMatrix().invertCopy();return r.init(a.transformPoint(e,t,r.point)),r.minmax(a.transformPoint(e,i,r.point)),r.minmax(a.transformPoint(n,t,r.point)),r.minmax(a.transformPoint(n,i,r.point)),r}},{key:"localToLocal",value:function(e,t,n,i){return i=this.localToGlobal(e,t,i),n.globalToLocal(i.x,i.y,i)}},{key:"globalCenter",value:function(){var e=this.pinLocation(),t=e.x,n=e.y;return this.getGlobalMatrix().transformPoint(t,n)}},{key:"pinLocation",value:function(){return{x:0,y:0,z:0}}},{key:"findObjectUnderPoint",value:function(e,t){return this.hitTest(e)?this:void 0}},{key:"render",value:function(e){if(!this.isInvisible)return e.save(),this.updateContext(e),this.preDraw&&this.preDraw(e),this.draw(e),this.drawHover&&this.drawHover(e),this.postDraw&&this.postDraw(e),e.restore(),this}},{key:"drawFont",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Arial",i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"center",r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"middle";e.textAlign=i,e.textBaseline=r,e.font="".concat(t,"px ").concat(n)}},{key:"drawPin",value:function(e){var t=this.pinLocation(),n=t.x,i=t.y;e.save(),e.beginPath(),e.arc(n,i,6,0,2*Math.PI,!1),e.fillStyle="pink",e.fill(),e.lineWidth=1,e.strokeStyle="#003300",e.stroke(),e.restore()}},{key:"drawOrigin",value:function(e){var t=this.pinLocation(),n=t.x,i=t.y;e.save(),e.beginPath(),e.setLineDash([5,5]),e.moveTo(n-50,i),e.lineTo(n+50,i),e.moveTo(n,i-50),e.lineTo(n,i+50),e.lineWidth=1,e.strokeStyle="#003300",e.stroke(),e.restore()}},{key:"drawOriginX",value:function(e){var t=this.pinLocation(),n=t.x,i=t.y;e.save(),e.beginPath(),e.setLineDash([5,5]),e.moveTo(n-50,i-50),e.lineTo(n+50,i+50),e.moveTo(n+50,i-50),e.lineTo(n-50,i+50),e.lineWidth=1,e.strokeStyle="#003300",e.stroke(),e.restore()}},{key:"drawHighlight",value:function(e){e.save(),e.strokeStyle="yellow",e.lineWidth=4,this.drawOutline(e),e.restore()}},{key:"drawHighlightOverlap",value:function(e){e.strokeStyle="green",e.lineWidth=8,this.drawOutline(e),e.strokeStyle="yellow",e.lineWidth=4,this.drawOutline(e)}},{key:"drawOutline",value:function(e){e.beginPath(),e.setLineDash([15,5]),e.rect(0,0,this.width,this.height),e.stroke()}},{key:"toggleSelected",value:function(){this.isSelected=!this.isSelected}}]),n}(ce),he=function(e){Object(M.a)(n,e);var t=Object(S.a)(n);function n(e){var i;return Object(E.a)(this,n),(i=t.call(this))._members=void 0,i.isHidden=!1,i.isSelectable=!0,i._members=new Array,e&&e.forEach((function(e){return i.addMember(e)})),i}return Object(D.a)(n,[{key:"getChildAt",value:function(e){return this._members[e]}},{key:"isEmpty",value:function(){return 0===this._members.length}},{key:"clearAll",value:function(){this._members=[]}},{key:"length",get:function(){return this._members.length}},{key:"count",get:function(){return this._members.length}},{key:"hasMembers",get:function(){return this.length>0}},{key:"map",value:function(e){return this._members.map(e)}},{key:"forEach",value:function(e){this._members.forEach(e)}},{key:"first",value:function(){return this._members[0]}},{key:"last",value:function(){return this._members[this._members.length-1]}},{key:"filter",value:function(e){return this._members.filter(e)}},{key:"find",value:function(e){return this._members.find(e)}},{key:"findMember",value:function(e){return this._members.find((function(t){return t.myName===e||t.myGuid===e}))}},{key:"getMember",value:function(e){return this._members[e]}},{key:"copyMembers",value:function(e){var t=this;return e.members.forEach((function(e){t.addMember(e)})),this}},{key:"isMember",value:function(e){return-1!==this._members.indexOf(e)}},{key:"push",value:function(e){this._members.push(e)}},{key:"shift",value:function(){return this._members.shift()}},{key:"addMember",value:function(e){return this._members.push(e),e}},{key:"removeMembers",value:function(e){var t=this;return e.members.forEach((function(e){t.removeMember(e)})),this}},{key:"removeMember",value:function(e){var t=this._members.indexOf(e);return t>-1&&this._members.splice(t,1),e}},{key:"members",get:function(){return this._members}},{key:"publicMembers",get:function(){return this.members.filter((function(e){return e.isPublic}))}},{key:"moveToTop",value:function(e){var t=this._members.indexOf(e);return-1!==t&&(this._members.splice(t,1),this._members.push(e)),this._members}},{key:"moveToBottom",value:function(e){var t=this._members.indexOf(e);return-1!==t&&(this._members.splice(t,1),this._members.unshift(e)),this._members}},{key:"toJson",value:function(){if(this.hasMembers){var e=Object(Z.a)(Object(q.a)(n.prototype),"toJson",this).call(this);return e.members=this._members.map((function(e){return e.asJson})),e}return{}}},{key:"isEqualTo",value:function(e){var t=!0;return t}}]),n}(ce);!function(e){e.left="left",e.right="right",e.top="top",e.bottom="bottom",e.center="center"}(se||(se={}));var le,de=function(e){Object(M.a)(n,e);var t=Object(S.a)(n);function n(e,i){var r;return Object(E.a)(this,n),(r=t.call(this,e,i))._angle=void 0,r._subcomponents=void 0,r.pinX=function(){return.5*r.width},r.pinY=function(){return.5*r.height},r.rotationZ=function(){return r.angle},r.localHitTest=function(e){var t=e,n=t.x,i=t.y,a=r.globalToLocal(n,i);return!(a.x<0)&&(!(a.x>r.width)&&(!(a.y<0)&&!(a.y>r.height)))},r.hitTest=function(e){return r.isHitable&&r.isVisible&&r.localHitTest(e)},r.overlapTest=function(e){var t=r.globalToLocalFrame(e.x1,e.y1,e.x2,e.y2);return!!r.localContains(t.x1,t.y1)||(!!r.localContains(t.x1,t.y2)||(!!r.localContains(t.x2,t.y1)||!!r.localContains(t.x2,t.y2)))},r.drawSelected=function(e){e.strokeStyle="red",e.lineWidth=4,r.drawOutline(e),r.drawPin(e)},r.drawBackground=function(e){e.fillStyle=r.color,e.lineWidth=1,e.globalAlpha=r.opacity,e.fillRect(0,0,r.width,r.height)},r.draw=function(e){r.drawBackground(e)},r.override(e),r}return Object(D.a)(n,[{key:"angle",get:function(){return this._angle||0},set:function(e){this.smash(),this._angle=e}},{key:"subcomponents",get:function(){return this._subcomponents||(this._subcomponents=new he),this._subcomponents}},{key:"setPinLeft",value:function(){var e=this;return this.pinX=function(){return 0*e.width},this}},{key:"setPinRight",value:function(){var e=this;return this.pinX=function(){return 1*e.width},this}},{key:"setPinCenter",value:function(){var e=this;return this.pinX=function(){return.5*e.width},this}},{key:"setPinTop",value:function(){var e=this;return this.pinY=function(){return 0*e.height},this}},{key:"setPinMiddle",value:function(){var e=this;return this.pinY=function(){return.5*e.height},this}},{key:"setPinBottom",value:function(){var e=this;return this.pinY=function(){return 1*e.height},this}},{key:"pinVector",value:function(){return new N.b(this.pinX(),this.pinY(),0)}},{key:"originPosition",value:function(){var e=this.pinVector();return new N.b(this.x-e.x,this.y-e.y,0)}},{key:"pinLocation",value:function(){return{x:this.pinX(),y:this.pinY(),z:0}}},{key:"toJson",value:function(){return X.mixin(Object(Z.a)(Object(q.a)(n.prototype),"toJson",this).call(this),{angle:this.angle})}},{key:"didLocationChange",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.NaN,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.NaN,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.NaN,r=Object(Z.a)(Object(q.a)(n.prototype),"didLocationChange",this).call(this,e,t,i);return Number.isNaN(i)||this.angle===i||(r=!0,this.angle=i),r}},{key:"move",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.NaN,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.NaN,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.NaN;if(this.didLocationChange(e,t,n)){var i=this.getLocation();oe.moved(this,i)}return this}},{key:"updateContext",value:function(e){var t=this.getMatrix();e.transform(t.a,t.b,t.c,t.d,t.tx,t.ty),e.globalAlpha*=this.opacity}},{key:"getMatrix",value:function(){return void 0===this._matrix&&(this._matrix=new J,this._matrix.appendTransform(this.x,this.y,1,1,this.rotationZ(),0,0,this.pinX(),this.pinY())),this._matrix}},{key:"render",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!this.isInvisible)return e.save(),this.updateContext(e),this.preDraw&&this.preDraw(e),this.draw(e),this.drawHover&&this.drawHover(e),this.postDraw&&this.postDraw(e),this.isSelected&&this.drawSelected(e),n&&(null===(t=this._subcomponents)||void 0===t||t.forEach((function(t){t.render(e,n)}))),e.restore(),this}},{key:"drawOutline",value:function(e){e.beginPath(),e.setLineDash([15,5]),e.rect(0,0,this.width,this.height),e.stroke()}}]),n}(ue),ve=function(e){Object(M.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(E.a)(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).lastFound=void 0,e}return Object(D.a)(n,[{key:"unselect",value:function(){this.forEach((function(e){e.closeEditor&&e.closeEditor()}))}},{key:"clear",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.unselect(e),this.clearAll()}},{key:"addSelection",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];e.isSelected=!0,t&&this.clear(e),this.isMember(e)||this.addMember(e)}},{key:"findSelected",value:function(){return this.find((function(e){return e.isSelected}))}},{key:"sendKeysToShape",value:function(e,t){if(this.lastFound&&this.lastFound.isSelected)this.lastFound.sendKeys(e,t);else{var n=this.findSelected();n&&n.sendKeys&&(n.sendKeys(e,t),this.lastFound=n)}}}]),n}(function(e){Object(M.a)(n,e);var t=Object(S.a)(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return n}(he)),fe=function(e){Object(M.a)(n,e);var t=Object(S.a)(n);function n(e,i){var r;return Object(E.a)(this,n),(r=t.call(this,e,i))._isDirty=!0,r.gridSizeX=50,r.gridSizeY=50,r.showBoundry=!0,r.selections=new ve,r._marginX=void 0,r._marginY=void 0,r._scaleX=void 0,r._scaleY=void 0,r.mouseLoc={},r.onItemHoverEnter=function(e,t,n){},r.onItemHoverExit=function(e,t,n){},r.onItemChangedPosition=function(e){},r.onMouseLocationChanged=function(e,t,n){r.mouseLoc=e,r.mouseLoc.state=t,r.mouseLoc.keys=n},r.preDraw=function(e){e.fillStyle=r.color,e.fillRect(0,0,r.width,r.height)},r.draw=function(e){r.drawGrid(e),r.drawAxis(e),r.drawPage(e),r.drawPin(e)},r.override(e),r}return Object(D.a)(n,[{key:"markAsDirty",value:function(){return this._isDirty=!0,this}},{key:"markAsClean",value:function(){return this._isDirty=!1,this}},{key:"isDirty",get:function(){return this._isDirty}},{key:"marginX",get:function(){return this._marginX||0},set:function(e){this.smash(),this._marginX=e}},{key:"marginY",get:function(){return this._marginY||0},set:function(e){this.smash(),this._marginY=e}},{key:"scaleX",get:function(){return this._scaleX||1},set:function(e){this.smash(),this._scaleX=e}},{key:"scaleY",get:function(){return this._scaleY||1},set:function(e){this.smash(),this._scaleY=e}},{key:"findHitShape",value:function(e){for(var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=0;r<this.subcomponents.length;r++){var a=this.subcomponents.getMember(r);if(a!==i&&(t=a.findObjectUnderPoint(e,n)))return t}}},{key:"findShapeUnder",value:function(e){for(var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=0;n<this.subcomponents.length;n++){var i=this._subcomponents.getMember(n);if(!e.hasAncestor(i)&&i!==t)return i}}},{key:"zoomToCenter",value:function(e,t,n){var i=this.globalToLocalPoint(e);this.zoomBy(t);var r=this.localToGlobal(i.x,i.y);this.x+=i.x-r.x,this.y+=i.y-r.y}},{key:"setupMouseEvents",value:function(){var e=this,t=null,n=null,i=null,r=null;I.Sub("mousedown",(function(n,i,a){e.onMouseLocationChanged(n,"down",a);var o=e.findHitShape(n);o?(r=(t=o).getOffset(n),t.isDragable()&&e.subcomponents.moveToTop(t),e.selections.addSelection(t,!a.shift)):e.selections.clear()}));I.Sub("mousemove",(function(n,a,o){if(t&&t.isDragable())e.onMouseLocationChanged(n,"move",o),t.moveTo(n,r);else{e.onMouseLocationChanged(n,"hover",o);var s=e.findHitShape(n);s&&s===i?e.onItemHoverEnter(n,i):s?(i&&e.onItemHoverExit(n,i),i=s,e.onItemHoverEnter(n,i)):(i&&e.onItemHoverExit(n,i),i=null)}}));I.Sub("mouseup",(function(i,r,a){e.onMouseLocationChanged(i,"up",a),t&&(t.isDragable()&&e._subcomponents.moveToTop(t),n&&a.ctrl||(e.onItemChangedPosition(t),oe.moveComplete(t,i)),t=n=null)})),I.Sub("wheel",(function(t,n,i,r,a){e.onMouseLocationChanged(t,"wheel",a),a.shift&&a.ctrl&&e.zoomToCenter(n,i,r)}))}},{key:"zoomBy",value:function(e){this.scaleX*=e,this.scaleY*=e}},{key:"drawGrid",value:function(e){e.save(),e.beginPath(),e.setLineDash([5,1]),e.strokeStyle="gray";for(var t=this.marginX-this.x,n=this.marginY-this.y,i=t+this.width/this.scaleX,r=n+this.height/this.scaleY,a=this.gridSizeX;a<i;)e.moveTo(a,n),e.lineTo(a,r),a+=this.gridSizeX;for(a=-this.gridSizeX;a>t;)e.moveTo(a,n),e.lineTo(a,r),a-=this.gridSizeX;for(var o=this.gridSizeY;o<r;)e.moveTo(t,o),e.lineTo(i,o),o+=this.gridSizeY;for(o=-this.gridSizeY;o>n;)e.moveTo(t,o),e.lineTo(i,o),o-=this.gridSizeY;e.stroke(),e.restore()}},{key:"drawAxis",value:function(e){e.save(),e.beginPath(),e.strokeStyle="black",e.lineWidth=3;var t=this.marginX-this.x,n=this.marginY-this.y,i=t+this.width/this.scaleX,r=n+this.height/this.scaleY;e.moveTo(0,n),e.lineTo(0,r),e.moveTo(t,0),e.lineTo(i,0),e.stroke(),e.restore()}},{key:"drawPage",value:function(e){e.save(),e.beginPath(),e.strokeStyle="black",e.lineWidth=5,e.rect(0,0,this.width,this.height),e.stroke(),e.restore()}},{key:"drawName",value:function(e){e.save(),e.font="50pt Calibri",e.lineWidth=3,e.strokeStyle="blue",e.strokeText(this.myName,10,50),e.restore()}},{key:"render",value:function(e){var t,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.clearRect(0,0,this.width,this.height),e.save(),this.drawName(e),this.preDraw&&this.preDraw(e),this.draw(e),this.postDraw&&this.postDraw(e),n&&(null===(t=this._subcomponents)||void 0===t||t.forEach((function(t){t.render(e,n)}))),e.restore(),this.showBoundry&&this.afterRender(e),this.markAsClean()}}]),n}(de),ye=function(e){Object(M.a)(n,e);var t=Object(S.a)(n);function n(e,i){var r;return Object(E.a)(this,n),(r=t.call(this,e,i))._loaded=!1,r.margin=void 0,r._image=void 0,r._imageURL=void 0,r._background=void 0,r.pinX=function(){return.5*r.width},r.pinY=function(){return.5*r.height},r.drawSelected=function(e){e.strokeStyle="red",e.lineWidth=1,r.drawOutline(e),r.drawPin(e)},r.drawBackground=function(e){var t=r.width+(r.margin&&r.margin.width||0),n=r.height+(r.margin&&r.margin.height||0);e.fillStyle=r.background,e.fillRect(0,0,t,n)},r.draw=function(e){var t=r.margin&&r.margin.left||0,n=r.margin&&r.margin.top||0;e.save(),r.background&&r.drawBackground(e),e.restore(),r._loaded&&e.drawImage(r._image,t,n,r.width,r.height)},r.override(e),r}return Object(D.a)(n,[{key:"imageURL",get:function(){return this._imageURL},set:function(e){var t=this;this._loaded=!1,this._imageURL=e,this._image=new Image,this._image.onload=function(){t._loaded=!0},this._image.src=this._imageURL}},{key:"background",get:function(){return this._background},set:function(e){this._background=e}},{key:"toJson",value:function(){return X.mixin(Object(Z.a)(Object(q.a)(n.prototype),"toJson",this).call(this),{background:this.background,imageURL:this.imageURL,margin:this.margin})}},{key:"override",value:function(e){if(e&&e.margin){var t=e.margin;e.margin=new R(t.left,t.top,t.right,t.bottom)}return Object(Z.a)(Object(q.a)(n.prototype),"override",this).call(this,e)}},{key:"render",value:function(e){return e.save(),this.updateContext(e),this.preDraw&&this.preDraw(e),this.draw(e),this.drawHover&&this.drawHover(e),this.postDraw&&this.postDraw(e),this.isSelected&&this.drawSelected(e),e.restore(),this}},{key:"drawOutline",value:function(e){var t=this.width+(this.margin&&this.margin.width||0),n=this.height+(this.margin&&this.margin.height||0);e.beginPath(),e.setLineDash([15,5]),e.rect(0,0,t,n),e.stroke()}}]),n}(de),be=function(e){Object(M.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(E.a)(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).localHitTest=function(t){var n=t,i=n.x,r=n.y;return!(i<e.x-e.pinX())&&(!(i>e.x+e.pinX())&&(!(r<e.y-e.pinY())&&!(r>e.y+e.pinY())))},e}return n}(ye),me=n(85);!function(e){e.UNKNOWN="unknown",e.AT="@",e.THIS="this",e.SELF="self",e.ROOT="root"}(le||(le={}));var ge=new(function(){function e(){Object(E.a)(this,e),this.hasOwnProperty=Object.prototype.hasOwnProperty}return Object(D.a)(e,[{key:"getFunctionName",value:function(e){var t=e.toString();return(t=(t=t.substr("function ".length)).substr(0,t.indexOf("("))).trim()}},{key:"generateUUID",value:function(){var e=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(t){var n=(e+16*Math.random())%16|0;return e=Math.floor(e/16),("x"===t?n:7&n|8).toString(16)}))}},{key:"asJson",value:function(e){var t=this.stringify(e);return JSON.parse(t)}},{key:"stringify",value:function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;function n(e){return e&&e.asReference?"resolveRef("+e.asReference()+","+e.constructor.name+")":e}function i(e,t){switch(e){case"myParent":return n(t);case"myMembers":return t?t.map((function(e){return n(e)})):t;case"_lookup":case"_members":return t;case"gridApis":case"columnApis":return""}if(!e.startsWith("_"))return t}return JSON.stringify(e,i,t)}},{key:"splitNamespaceType",value:function(e,t){var n=e.split("::"),i={namespace:"",name:e};return 2===n.length?i={namespace:n[0],name:n[1]}:t&&(i={namespace:n[0],name:t}),i}},{key:"getNamespace",value:function(e){var t=e.myType?e.myType.split("::"):[""];return t=t[0]}},{key:"getType",value:function(e){var t=e.myType?e.myType.split("::"):[""];return t=2===t.length?t[1]:t[0]}},{key:"namespace",value:function(e,t){return"".concat(e,"::").concat(t)}},{key:"randomInt",value:function(e,t){return e+Math.floor(Math.random()*(t-e+1))}},{key:"random",value:function(e,t){return e+Math.random()*(t-e)}},{key:"randomRGBColor",value:function(){var e=255*Math.random()|0,t=255*Math.random()|0,n=255*Math.random()|0;return"rgb(".concat(e,",").concat(t,",").concat(n,")")}},{key:"randomName",value:function(){var e=["Llam","Noah","Oliver","Elijah","Lucas","Mason","Henry","Logan","Sebastian","Wyatt","Carter","Isaac","Dylan","Aaron"],t=this.randomInt(0,e.length-1);return"".concat(e[t],"_").concat(this.randomInt(0,e.length-1))}},{key:"randomThing",value:function(){var e=["Farmhouse","Barn","Silo","Garage","Box Truck","Yellow House","School","Brick Building","Statue"],t=this.randomInt(0,e.length-1);return"".concat(e[t],"_").concat(this.randomInt(0,e.length-1))}},{key:"matches",value:function(e,t){return e===t||e&&t&&e.toLocaleLowerCase()===t.toLocaleLowerCase()}},{key:"startsWith",value:function(e,t){return e===t||e&&t&&e.toLocaleLowerCase().startsWith(t.toLocaleLowerCase())}},{key:"capitalizeFirstLetter",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},{key:"capitalize",value:function(e){return ge.isEmpty(e)?e:ge.capitalizeFirstLetter(e)}},{key:"isSelf",value:function(e){return this.matches(e,le.AT)||this.matches(e,le.THIS)||this.matches(e,le.SELF)}},{key:"isArray",value:function(e){return Array.isArray?Array.isArray(e):"[object Array]"===Object.prototype.toString.call(e)}},{key:"isFunction",value:function(e){return"function"===typeof e}},{key:"isString",value:function(e){return"string"===typeof e}},{key:"isNumber",value:function(e){return"number"===typeof e}},{key:"isDate",value:function(e){return e instanceof Date}},{key:"isObject",value:function(e){return e&&"object"===typeof e}},{key:"isCustomLinkName",value:function(e){return!1}},{key:"isTyped",value:function(e){return e&&e.isInstanceOf}},{key:"isEmpty",value:function(e){if(null==e)return!0;if(e.length>0)return!1;if(0===e.length)return!0;if("object"!==typeof e)return!0;for(var t in e)if(this.hasOwnProperty.call(e,t))return!1;return!0}},{key:"replaceSpaces",value:function(e){return e.replace(/[\s]/g,"_")}},{key:"removeSpaces",value:function(e){return e.replace(/[\s]/g,"_")}},{key:"removeSpecial",value:function(e){return e.replace(/[^a-zA-Z 0-9]+/g,"")}},{key:"toVirtualFolder",value:function(e){var t=this.removeSpecial(e);return(t=this.removeSpaces(t)).toLocaleLowerCase()}},{key:"applyTemplate",value:function(e,t){for(var n=e||"",i=0,r=Object.keys(t);i<r.length;i++){var a=r[i],o="{"+a+"}",s=t[a];n=n.replace(o,s)}return n}},{key:"removeDQ",value:function(e){return e.replace(/^"(.*)"$/,"$1")}},{key:"unwrap",value:function(e){return e.substring(1,e.length-1)}},{key:"wrapDQ",value:function(e){return'"'.concat(e,'"')}},{key:"wrapSQ",value:function(e){return"'".concat(e,"'")}},{key:"decomposeHostPath",value:function(e){var t=e.toLowerCase(),n=(t=(t=t.replace("http://","")).replace("https://","")).split("/")[0];return{fullpath:e,host:n,path:t.replace(n,"")}}},{key:"extend",value:function(e,t){if(!t)return e;for(var n in t)this.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}},{key:"mixin",value:function(e,t){if(!t)return e;if(!e)return t;var n,i=Object(z.a)(t);try{for(i.s();!(n=i.n()).done;){var r=n.value;e[r]=t[r]}}catch(a){i.e(a)}finally{i.f()}return e}},{key:"mixExact",value:function(t,n){if(!n)return t;if(!t)return n;for(var i in n)e.hasOwnProperty.call(t,i)&&(t[i]=n[i]);return t}},{key:"mixout",value:function(e,t){if(!t)return e;if(!e)return t;for(var n in t)this.hasOwnProperty.call(e,n)&&delete e[n];return e}},{key:"extract",value:function(e,t){var n={};return t&&t.forEach((function(t){n[t]=e[t]})),n}},{key:"mixMap",value:function(e,t){if(!t)return e;var n,i={},r=Object(z.a)(e);try{for(r.s();!(n=r.n()).done;){var a=n.value;i[t[a]||a]=e[a]}}catch(o){r.e(o)}finally{r.f()}return i}},{key:"intersect",value:function(e,t){if(!t)return e;if(!e)return t;var n={};for(var i in e)this.hasOwnProperty.call(t,i)?n[i]=t[i]:n[i]=e[i];return n}},{key:"union",value:function(e,t){var n={};if(e){var i,r=Object(z.a)(e);try{for(r.s();!(i=r.n()).done;){var a=i.value;n[a]=e[a]}}catch(u){r.e(u)}finally{r.f()}}if(t){var o,s=Object(z.a)(t);try{for(s.s();!(o=s.n()).done;){var c=o.value;n[c]=t[c]}}catch(u){s.e(u)}finally{s.f()}}return n}},{key:"defineValueProperty",value:function(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0}),e}},{key:"defineComputeOnlyProperty",value:function(e,t,n){return Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:n}),e}},{key:"defineCalculatedProperty",value:function(e,t,n){return Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:n,set:function(e){this["_".concat(t)]=e}}),e}},{key:"getMethods",value:function(e){var t=[];for(var n in e.prototype)"function"===typeof e[n]&&t.push(n);return t}},{key:"asArray",value:function(e,t){return this.isArray(e)?e:this.mapOverKeyValue(e,(function(e,n){return t?t(e,n):n}))}},{key:"applyOverKeyValue",value:function(e,t){var n=this,i={};return(e?Object.keys(e):[]).forEach((function(r){if(n.hasOwnProperty.call(e,r)){var a=e[r],o=t(r,a);o&&(i[r]=o)}})),i}},{key:"mapOverKeyValue",value:function(e,t){var n=this,i=[];return(e?Object.keys(e):[]).forEach((function(r){if(n.hasOwnProperty.call(e,r)){var a=e[r],o=t(r,a);o&&i.push(o)}})),i}},{key:"forEachKeyValue",value:function(e,t){var n=this;(e?Object.keys(e):[]).forEach((function(i){if(n.hasOwnProperty.call(e,i)){var r=e[i];t(i,r)}}))}},{key:"findKeyForValue",value:function(e,t){for(var n in e)if(this.hasOwnProperty.call(e,t)&&e[n].matches(t))return n;return e}},{key:"addToListByKey",value:function(e,t,n){e[t]?e[t].push(n):e[t]=[n]}},{key:"extractReadWriteKeys",value:function(e){var t=[];return ge.forEachKeyValue(e,(function(e,n){ge.isFunction(n)||t.push(e)})),t}},{key:"extractComputedKeys",value:function(e){var t=[];return ge.forEachKeyValue(e,(function(e,n){ge.isFunction(n)&&t.push(e)})),t}},{key:"overrideComputed",value:function(e,t){ge.forEachKeyValue(t,(function(t,n){try{ge.isFunction(n)?ge.defineCalculatedProperty(e,t,n):e[t]=n}catch(i){console.log(i)}}))}},{key:"extendComputed",value:function(e,t){ge.forEachKeyValue(t,(function(t,n){try{e[t]||(ge.isFunction(n)?ge.defineCalculatedProperty(e,t,n):e[t]=n)}catch(i){console.log(i)}}))}},{key:"pluck",value:function(e){return function(t){return t[e]}}},{key:"distinctItems",value:function(e){var t={};return e.forEach((function(e){t[e]=e})),Object.keys(t)}},{key:"groupBy",value:function(e,t){var n={};return t.forEach((function(t){var i=e(t);n[i]||(n[i]=[]),n[i].push(t)})),n}},{key:"mergeGroups",value:function(e,t){var n={};return Object.keys(e).forEach((function(i){var r=e[i],a=t[i];n[i]=a?[].concat(Object(me.a)(a),Object(me.a)(r)):Object(me.a)(r)})),n}},{key:"getNowIsoDate",value:function(){return(new Date).toISOString()}},{key:"now",value:function(){return(new Date).getTime()}},{key:"getYearYYYY",value:function(){return(new Date).getFullYear()}},{key:"doNothing",get:function(){return function(){}}},{key:"isPasteEvent",value:function(e){return(null===e||void 0===e?void 0:e.ctrlKey)&&"V"===((null===e||void 0===e?void 0:e.key)||"").toUpperCase()}},{key:"getPositiveInteger",value:function(e){var t=Math.abs(Math.round(e));return 0===t?1:t}},{key:"padZero",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return"".concat(e).padStart(t,"0")}}]),e}()),pe=n(120),ke=function(){function e(){Object(E.a)(this,e)}return Object(D.a)(e,[{key:"override",value:function(e){var t=this;e&&Object.keys(e).forEach((function(n){Object.defineProperty(t,n,{value:e[n],configurable:!0,enumerable:!0,writable:!0})}))}},{key:"getPropertyValue",value:function(e,t){return pe.get(e,t)}},{key:"getProperty",value:function(e,t){var n=this;return{getter:function(){var i=n.getPropertyValue(n,e);return t&&i?i.join(" "):i},setter:function(i){var r=t?[i]:i;return Object.defineProperty(n,e,{value:r,configurable:!0,enumerable:!0,writable:!0}),[e,n]}}}},{key:"getPropertyAsList",value:function(e,t,n){var i=this;return{getter:function(){var t=i.getPropertyValue(i,e);return t||[]},setter:function(t){var n=t;Object.defineProperty(i,e,{value:n,configurable:!0,enumerable:!0,writable:!0})},push:function(t){var n=i.getPropertyValue(i,e);n.push(t),Object.defineProperty(i,e,{value:n,configurable:!0,enumerable:!0,writable:!0})},remove:function(t){var n=i.getPropertyValue(i,e);pe.pull(n,t),Object.defineProperty(i,e,{value:n,configurable:!0,enumerable:!0,writable:!0})},labelForAdd:function(){return n||"Add Item"},defaultDataForAdd:function(){var n=i.getPropertyValue(i,e);return t||n.length>0&&Object.assign({},n[0])||{}}}}},{key:"getPropertyAsEnumList",value:function(e,t,n,i,r,a){var o=this;return{getter:function(){var t=o.getPropertyValue(o,e);return t||(n?"":[])},setter:function(t){var i=t;!ge.isEmpty(t)&&ge.isArray(t)&&n&&(i=t[0]),Object.defineProperty(o,e,{value:i,configurable:!0,enumerable:!0,writable:!0})},push:function(t){var i=o.getPropertyValue(o,e);n?i=t:i.push(t),Object.defineProperty(o,e,{value:i,configurable:!0,enumerable:!0,writable:!0})},clear:function(){Object.defineProperty(o,e,{value:[],configurable:!0,enumerable:!0,writable:!0})},remove:function(t){var n=o.getPropertyValue(o,e);pe.pull(n,t),Object.defineProperty(o,e,{value:n,configurable:!0,enumerable:!0,writable:!0})},getEnumValues:function(){var e=new ee.a;return setTimeout((function(){e.next(t),e.complete()}),10),e},mutuallyExclusive:function(){return n},minRequiredSelections:function(){return i}}}},{key:"removeUndefined",value:function(){for(var e in this)void 0===this[e]&&delete this[e];return this}},{key:"myType",get:function(){return this.constructor.name},set:function(e){}},{key:"toJSON",value:function(){return Object.assign({},this)}}]),e}(),Oe=new(function(e){Object(M.a)(n,e);var t=Object(S.a)(n);function n(e){var i;return Object(E.a)(this,n),(i=t.call(this)).production=!1,i.baseURL=void 0,i.rootAPIPath=void 0,i.apiVersion=void 0,i.localMockPath="/data",i.version="0.0.0",i.envVars=void 0,i.services={},i.featureflags={},i.override(e),i}return n}(ke)),Ae=new(function(e){Object(M.a)(n,e);var t=Object(S.a)(n);function n(e){var i;return Object(E.a)(this,n),(i=t.call(this)).tag=void 0,i.baseURL=void 0,i.rootAPIPath=void 0,i.localDebug=void 0,i.production=void 0,i.version=void 0,i.mesh=void 0,i.featureflags=void 0,i.defaultLatLng=void 0,i.override(e),i}return n}(ke)),je=function(e){Object(M.a)(n,e);var t=Object(S.a)(n);function n(e){var i;Object(E.a)(this,n),(i=t.call(this)).serviceKey=void 0,i.endpoint=void 0,i.localDataPath=void 0,i.localMockData=!1,i.forceLocalMock=!1,i.override(e);var r=Oe.services[i.serviceKey];return r&&i.override(r),i}return Object(D.a)(n,[{key:"getUrl",value:function(){var e=this.localMockData,t=this.localDataPath;if(e)return console.log("Using MOCK DATA for ".concat(this.serviceKey)),"".concat(Oe.localMockPath).concat(t);if(this.forceLocalMock)return console.warn("PENDING Service ".concat(this.serviceKey,": FORCING MOCK DATA")),"".concat(Oe.localMockPath).concat(t);var i="".concat(n.baseURL),r="".concat(i).concat(this.endpoint);return encodeURI(r)}},{key:"getClientHubUrl",value:function(){var e="".concat(Ae.baseURL).concat(this.endpoint);return encodeURI(e)}},{key:"getAPIUrl",value:function(){var e=this.localMockData,t=this.localDataPath;if(e)return console.log("Using MOCK DATA for ".concat(this.serviceKey)),"".concat(Oe.localMockPath).concat(t);if(this.forceLocalMock)return console.warn("PENDING Service ".concat(this.serviceKey,": FORCING MOCK DATA")),"".concat(Oe.localMockPath).concat(t);var i="".concat(n.baseURL),r="".concat(i).concat(Ae.rootAPIPath).concat(this.endpoint);return encodeURI(r)}}]),n}(ke);je.baseURL=Ae.baseURL;var we,xe=n(59),Pe=n(84),Ee=n(40);!function(e){e.POINT_OF_INTEREST="POINT_OF_INTEREST",e.POSSIBLE_TARGET="POSSIBLE_TARGET",e.CONFIRMED_TARGET="CONFIRMED_TARGET"}(we||(we={}));var Ce=function(){function e(t){Object(E.a)(this,e),this.sourceGuid=void 0,this.timeStamp=void 0,this.personId=void 0,t&&this.override(t)}return Object(D.a)(e,[{key:"override",value:function(e){var t=this;Reflect.ownKeys(e).forEach((function(n){Reflect.set(t,n,Reflect.get(e,n))}))}},{key:"calcCrow",value:function(e,t,n,i){var r=this.toRad(n-e),a=this.toRad(i-t),o=this.toRad(e),s=this.toRad(n),c=Math.sin(r/2)*Math.sin(r/2)+Math.sin(a/2)*Math.sin(a/2)*Math.cos(o)*Math.cos(s);return 6371*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))}},{key:"toRad",value:function(e){return e*Math.PI/180}},{key:"toDeg",value:function(e){return 180*e/Math.PI}},{key:"computeIntersection",value:function(e,t,n,i,r,a){var o,s,c,u,h,l,d,v,f;return s=i-e,c=r-t,!((u=Math.sqrt(c*c+s*s))>n+a)&&(!(u<Math.abs(n-a))&&(f=t+c*(o=(n*n-a*a+u*u)/(2*u))/u,[(v=e+s*o/u)+(l=(h=Math.sqrt(n*n-o*o))/u*-c),v-l,f+(d=s*(h/u)),f-d]))}},{key:"getDisplayInfo",value:function(){return{sourceGuid:this.sourceGuid,messageType:"Base",user:this.personId,timeStamp:this.timeStamp,personId:this.personId}}}],[{key:"asCoord",value:function(e){return e.geometry.coordinates}},{key:"asLat",value:function(e){return e.geometry.coordinates[1]}},{key:"asLng",value:function(e){return e.geometry.coordinates[0]}}]),e}(),Me=function(e){Object(M.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(E.a)(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).units=void 0,e.width=void 0,e.height=void 0,e.depth=void 0,e.pinX=void 0,e.pinY=void 0,e.pinZ=void 0,e}return n}(Ce),Se=function(e){Object(M.a)(n,e);var t=Object(S.a)(n);function n(e){var i;return Object(E.a)(this,n),(i=t.call(this)).topic=void 0,i.data=void 0,e&&i.override(e),i}return n}(Ce),De=function(e){Object(M.a)(n,e);var t=Object(S.a)(n);function n(e){var i;return Object(E.a)(this,n),(i=t.call(this)).user=void 0,i.message=void 0,e&&i.override(e),i}return n}(Ce),Ie=function(e){Object(M.a)(n,e);var t=Object(S.a)(n);function n(e){var i;return Object(E.a)(this,n),(i=t.call(this)).user=void 0,i.device=void 0,i.ammo=void 0,i.heartrate=void 0,i.ip_address=void 0,i.battery=void 0,i.notes=void 0,e&&i.override(e),i}return Object(D.a)(n,[{key:"getDisplayInfo",value:function(){return{sourceGuid:this.sourceGuid,messageType:"Status",user:this.personId,timeStamp:this.timeStamp,personId:this.personId,notes:"Device: ".concat(this.device,", Ammo: ").concat(this.ammo,", Heartrate: ").concat(this.heartrate,", IP: ").concat(this.ip_address,", Battery: ").concat(this.battery," Notes: ").concat(this.notes)}}}]),n}(Ce),Ne=function(e){Object(M.a)(n,e);var t=Object(S.a)(n);function n(e){var i;return Object(E.a)(this,n),(i=t.call(this)).targetGuid=void 0,i.command=void 0,i.args=void 0,e&&i.override(e),i}return Object(D.a)(n,[{key:"getDisplayInfo",value:function(){return{sourceGuid:this.sourceGuid,uniqueGuid:this.targetGuid,messageType:"Command",user:this.personId,timeStamp:this.timeStamp,personId:this.personId,notes:this.args.toString()}}}]),n}(Ce),Le=function(e){Object(M.a)(n,e);var t=Object(S.a)(n);function n(e){var i;return Object(E.a)(this,n),(i=t.call(this)).lat=void 0,i.lng=void 0,i.alt=void 0,e&&i.override(e),i}return Object(D.a)(n,[{key:"point",value:function(){return Ee.point([this.lng,this.lat])}},{key:"distance",value:function(e){return Ee.distance(this.point(),e.point())}},{key:"bearing",value:function(e){return Ee.bearing(this.point(),e.point())}},{key:"midpoint",value:function(e){return Ee.midpoint(this.point(),e.point())}},{key:"destination",value:function(e,t){return Ee.destination(this.point(),e,t)}},{key:"circlePolygon",value:function(e){return Ee.circle(this.point(),e,{steps:30,Units:"kilometers"})}},{key:"boxPolygon",value:function(e,t,n){var i=e/2,r=n/2,a=Ee.lineString([[this.lng-i,this.lat-r],[this.lng+i,this.lat-r],[this.lng+i,this.lat+r],[this.lng-i,this.lat+r]]),o=Ee.bbox(a);return Ee.bboxPolygon(o)}},{key:"circleIntersect",value:function(e,t,n){return new Array}}]),n}(Ce),Te=function(e){Object(M.a)(n,e);var t=Object(S.a)(n);function n(e){var i;return Object(E.a)(this,n),(i=t.call(this)).user=void 0,i.speed=void 0,i.heading=void 0,e&&i.override(e),i}return Object(D.a)(n,[{key:"getDisplayInfo",value:function(){return{sourceGuid:this.sourceGuid,messageType:"Position",lat:"".concat(this.lat),lng:"".concat(this.lng),user:this.personId,timeStamp:this.timeStamp,personId:this.personId}}}]),n}(Le),Re=function(e){Object(M.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(E.a)(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).xLoc=void 0,e.yLoc=void 0,e.zLoc=void 0,e.xAng=void 0,e.yAng=void 0,e.zAng=void 0,e}return n}(Ce),Ge=function(e){Object(M.a)(n,e);var t=Object(S.a)(n);function n(e){var i;return Object(E.a)(this,n),(i=t.call(this)).platformName=void 0,i.uniqueGuid=void 0,i.bodyName=void 0,i.position=void 0,i.boundingBox=void 0,e&&i.override(e),i}return n}(Ce),Ue=function(e){Object(M.a)(n,e);var t=Object(S.a)(n);function n(e){var i;return Object(E.a)(this,n),(i=t.call(this)).uniqueGuid=void 0,i.platformName=void 0,i.boundingBox=void 0,i.members=new Array,e&&i.override(e),i.uniqueGuid="ea5be290-6314-4f72-ecf7-68ca15e386a3",i}return Object(D.a)(n,[{key:"establishBody",value:function(e){var t=this.members.find((function(t){return t.uniqueGuid===e.uniqueGuid}));t?t.override(e):(t=e,this.members.push(t))}},{key:"getDisplayInfo",value:function(){return{sourceGuid:this.sourceGuid,messageType:"Platform",lat:"".concat(this.lat),lng:"".concat(this.lng),platformName:this.platformName,timeStamp:this.timeStamp,personId:this.personId}}}]),n}(Le),Be=function(e){Object(M.a)(n,e);var t=Object(S.a)(n);function n(e){var i;return Object(E.a)(this,n),(i=t.call(this)).uniqueGuid=void 0,i.name=void 0,i.type=void 0,i.note=void 0,i.uniqueGuid=ge.generateUUID(),e&&i.override(e),i}return Object(D.a)(n,[{key:"getDisplayInfo",value:function(){return{sourceGuid:this.sourceGuid,uniqueGuid:this.uniqueGuid,messageType:"Objective",lat:"".concat(this.lat),lng:"".concat(this.lng),user:this.personId,timeStamp:this.timeStamp,personId:this.personId,notes:"".concat(this.type," - ").concat(this.note||"")}}}]),n}(Le),He=function(e){Object(M.a)(n,e);var t=Object(S.a)(n);function n(e){var i;return Object(E.a)(this,n),(i=t.call(this)).uniqueGuid=void 0,i.user=void 0,i.target=void 0,i.isTarget=void 0,i.range=void 0,i.uniqueGuid=ge.generateUUID(),e&&i.override(e),i}return Object(D.a)(n,[{key:"circle",value:function(){var e=this.range;return this.circlePolygon(e)}},{key:"intersection",value:function(e){var t=new Array,n=this.distance(e),i=e.range,r=this.range;if(n>i+r)return t;var a=(i*i-r*r-n*n)/(-2*r*n),o=this.toDeg(Math.acos(a)),s=this.bearing(e),c=s+o,u=this.destination(r,c);t.push(u);var h=s-o,l=this.destination(r,h);return t.push(l),t}},{key:"getDisplayInfo",value:function(){return{sourceGuid:this.sourceGuid,uniqueGuid:this.uniqueGuid,messageType:"Observation",lat:"".concat(this.lat),lng:"".concat(this.lng),user:this.user||this.personId,timeStamp:this.timeStamp,personId:this.personId,notes:"".concat(this.target," (").concat(this.range,"km)")}}}]),n}(Le),Ve=function e(){Object(E.a)(this,e),this.ChatMessage=De,this.Command=Ne,this.Generic=Se,this.Objective=Be,this.Observation=He,this.Position=Te,this.Platform=Ue,this.Status=Ie,this.Body=Ge},Fe=n(70),We=function(){function e(){Object(E.a)(this,e)}return Object(D.a)(e,null,[{key:"cloneCoords",value:function(e){var t=e.coords;return Object.assign({},{latitude:t.latitude,longitude:t.longitude,altitude:t.altitude,heading:t.heading,accuracy:t.accuracy,altitudeAccuracy:t.altitudeAccuracy,speed:t.speed})}}]),e}(),Qe=function(){function e(){Object(E.a)(this,e)}return Object(D.a)(e,null,[{key:"getColor",value:function(t){return e.mapLayerColors[t]?e.mapLayerColors[t]:e.mapLayerColors[0]}},{key:"getCallSignIcon",value:function(e){return new Fe.DivIcon({html:'<div class="call-sign-icon">'.concat(e,"</div>")})}},{key:"getObjectiveIcon",value:function(e){return new Fe.DivIcon({html:'<div class="objective-container"><img src="'.concat(e.name,'" class="objective-container-img" data-type="').concat(e.type,'" /></div>'),className:"non-existent-class-to-prevent-label-box"})}},{key:"getMoveObjective",value:function(e,t){return e.lat=t.target.getLatLng().lat,e.lng=t.target.getLatLng().lng,e}},{key:"getMoveObservation",value:function(e,t){return e.lat=t.target.getLatLng().lat,e.lng=t.target.getLatLng().lng,e}},{key:"getMovePlatform",value:function(e,t){return e.lat=t.target.getLatLng().lat,e.lng=t.target.getLatLng().lng,e}},{key:"getPlatformIconBBox",value:function(t,n,i){return e.getScalableRectangleBBox(t,n.platformName,i)}},{key:"getObservationIconBBox",value:function(t,n,i){return e.getScalableCircleBBox(t,n.target,i)}},{key:"getScalableCircleBBox",value:function(e,t,n){var i=[n[3],n[2]],r=[n[1],n[0]];console.log("getScalableCircleBBox startPoint, bbox=",i,n);var a=e.getZoom(),o=e.project(i,a),s=e.project(r,a),c=Number(Number(s.y-o.y).toFixed(2)),u=c,h=Math.min(c/8,12),l=["width: ".concat(c,"px"),"height: ".concat(u,"px")].join(";"),d=["font-size: ".concat(h,"pt")].join(";");return new Fe.DivIcon({html:'<div style="'.concat(l,'" class="observation-container"><div style="').concat(d,'" class="observation-text">').concat(t,"</div></div>"),iconAnchor:[c/2,u/2],className:"non-existent-class-to-prevent-label-box"})}},{key:"getScalableRectangleBBox",value:function(e,t,n){var i=[n[3],n[2]],r=[n[1],n[0]];console.log("getScalableRectangleBBox startPoint, bbox=",i,n);var a=e.getZoom(),o=e.project(i,a),s=e.project(r,a),c=Number(Number(s.x-o.x).toFixed(2)),u=Number(Number(s.y-o.y).toFixed(2)),h=Math.min(c/8,12),l=["width: ".concat(c,"px"),"height: ".concat(u,"px")].join(";"),d=["font-size: ".concat(h,"pt")].join(";");return new Fe.DivIcon({html:'<div style="'.concat(l,'" class="platform-container"><div style="').concat(d,'" class="observation-text">').concat(t,"</div></div>"),iconAnchor:[c/2,u/2],className:"non-existent-class-to-prevent-label-box"})}},{key:"getRandomPositionMove",value:function(){var e=[[1e-4,0],[-1e-4,0],[0,1e-4],[15e-5,0],[-15e-5,0],[0,15e-5],[175e-6,0],[-175e-6,0],[0,175e-6]];return e[ge.randomInt(0,e.length-1)]}}]),e}();Qe.mapLayerColors=["red","orange","green","blue","purple"],Qe.videoSpec={content:'<iframe width="560" height="315" src="https://www.youtube.com/embed/Lu56xVlZ40M" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>',options:{minWidth:580,maxHeight:350,className:"iobt"}};var Ke,Ye=n(80),Ze=Ye.b,qe=function(){function e(){Object(E.a)(this,e),this.connection=void 0,this.sourceGUID=void 0,this.personId=void 0,this.lastLat=void 0,this.lastLng=void 0,this.pongSubject=void 0,this.subjects=new Map,this.sourceGUID=ge.generateUUID(),this.personId=ge.randomName(),this.resetPosition((function(){}))}return Object(D.a)(e,[{key:"summary",get:function(){return{personId:this.personId,sourceGUID:this.sourceGUID,lat:this.lastLat,lng:this.lastLng}}},{key:"resetPosition",value:function(e){var t=this;navigator.geolocation.getCurrentPosition((function(n){t.lastLat=n.coords.latitude,t.lastLng=n.coords.longitude,e()}),(function(){Ze.warning("getCurrentPosition() and watchPosition() only work with secure origins. Use https");var n=Object(xe.a)(Ae.defaultLatLng,2);t.lastLat=n[0],t.lastLng=n[1],e()}))}},{key:"movePosition",value:function(e,t){this.lastLat+=e,this.lastLng+=t}},{key:"getClientHubUrl",value:function(){return new je({serviceKey:"clientHub$",endpoint:"/clientHub"}).getClientHubUrl()}},{key:"establishHubConnection",value:function(){if(this.connection)return this.connection;var e=new je({serviceKey:"chatService$",endpoint:"/clientHub"}).getClientHubUrl();return Ze.info("Hub Connection URL= ".concat(e)),this.connection=(new Pe.b).withUrl(e,{withCredentials:!1,skipNegotiation:!0,transport:Pe.a.WebSockets}).configureLogging(Pe.c.Debug).build(),this.connection}},{key:"doStart",value:function(e,t){if(this.connection)return Ze.warn("reuse connection"),void e();this.establishHubConnection().start().then((function(){e()})).catch((function(e){Ze.error("".concat(e.message," topic hub has failed")),console.log(e.stack),t()}))}},{key:"doStop",value:function(e){this.connection&&(this.connection.stop(),this.connection.onclose(e),this.connection=void 0)}},{key:"Estabish$",value:function(e){if(!this.subjects.has(e)){var t=new ee.a;this.subjects.set(e,t),this.connection.on(e,(function(n){var i=(new Ve)[e];t.next(new i(n))}))}return this.subjects.get(e)}},{key:"Pong$",value:function(){var e=this;return this.pongSubject||(this.pongSubject=new ee.a,this.connection.on("Pong",(function(t){e.pongSubject.next(t)}))),this.pongSubject}},{key:"doPing",value:function(){var e="Everybody play ping pong ".concat(ge.getNowIsoDate());this.connection.invoke("Ping",e)}},{key:"doPingPong",value:function(){var e="Others play ping pong ".concat(ge.getNowIsoDate());this.connection.invoke("PingPong",e)}},{key:"getBaseData",value:function(){return{sourceGuid:this.sourceGUID,timeStamp:ge.getNowIsoDate(),personId:this.personId}}},{key:"Generic$",value:function(){return this.Estabish$("Generic")}},{key:"sendGeneric",value:function(e){e.override(this.getBaseData()),this.connection.invoke("Generic",e)}},{key:"ChatMessage$",value:function(){return this.Estabish$("ChatMessage")}},{key:"sendChatMessageMesh",value:function(e){e.override(this.getBaseData()),this.connection.invoke("ChatMessageMesh",e,!0)}},{key:"Position$",value:function(){return this.Estabish$("Position")}},{key:"sendPosition",value:function(e){e.override(this.getBaseData()),e.user=this.personId,this.connection.invoke("Position",e)}},{key:"Objective$",value:function(){return this.Estabish$("Objective")}},{key:"sendObjective",value:function(e){e.override(this.getBaseData()),this.connection.invoke("Objective",e)}},{key:"Observation$",value:function(){return this.Estabish$("Observation")}},{key:"sendObservation",value:function(e){return e.override(this.getBaseData()),e.lat=Boolean(e.lat)?e.lat:this.lastLat,e.lng=Boolean(e.lng)?e.lng:this.lastLng,this.connection.invoke("Observation",e),e}},{key:"Platform$",value:function(){return this.Estabish$("Platform")}},{key:"Body$",value:function(){return this.Estabish$("Body")}},{key:"sendPlatform",value:function(e){return e.override(this.getBaseData()),e.lat=Boolean(e.lat)?e.lat:this.lastLat,e.lng=Boolean(e.lng)?e.lng:this.lastLng,this.connection.invoke("Platform",e),e}},{key:"sendBody",value:function(e){return e.override(this.getBaseData()),this.connection.invoke("Body",e),e}},{key:"Status$",value:function(){return this.Estabish$("Status")}},{key:"sendStatus",value:function(e){e.override(this.getBaseData()),this.connection.invoke("Status",e)}},{key:"Command$",value:function(){return this.Estabish$("Command")}},{key:"sendCommand",value:function(e){e.override(this.getBaseData()),this.connection.invoke("Command",e)}},{key:"doUpdatePosition",value:function(e){var t=new Te(We.cloneCoords(e));this.sendPosition(t)}}]),e}(),ze=n(155),Xe=n(156);!function(e){e[e.DEFAULT=0]="DEFAULT",e[e.SIGNAL_R_CONNECTION_ESTABLISHED=1]="SIGNAL_R_CONNECTION_ESTABLISHED",e[e.SIGNAL_R_CONNECTION_UNAVAILABLE=2]="SIGNAL_R_CONNECTION_UNAVAILABLE",e[e.RECEIVED_COP_UPDATE=3]="RECEIVED_COP_UPDATE",e[e.RECEIVED_CHAT_MESSAGE=4]="RECEIVED_CHAT_MESSAGE",e[e.RECEIVED_ZOOM_IN_COMMAND=5]="RECEIVED_ZOOM_IN_COMMAND",e[e.RECEIVED_ZOOM_OUT_COMMAND=6]="RECEIVED_ZOOM_OUT_COMMAND",e[e.RECEIVED_HIDE_MAP_COMMAND=7]="RECEIVED_HIDE_MAP_COMMAND",e[e.RECEIVED_SHOW_MAP_COMMAND=8]="RECEIVED_SHOW_MAP_COMMAND",e[e.DISPLAY_OVERLAY_PAGE=9]="DISPLAY_OVERLAY_PAGE",e[e.MOVE_COMPLETE=10]="MOVE_COMPLETE"}(Ke||(Ke={}));var Je=new(function(){function e(){Object(E.a)(this,e),this._behaviorSubject=new ze.a(Ke.DEFAULT),this._subject=new ee.a,this._subjectPayload=new ee.a}return Object(D.a)(e,[{key:"pubSub$",value:function(e){return this._subject.pipe(Object(Xe.a)((function(t){return t===e})))}},{key:"pubSubLateObserver$",value:function(e){return this._behaviorSubject.pipe(Object(Xe.a)((function(t){return t===e})))}},{key:"pubSubRaw$",value:function(){return this._subject}},{key:"pubSubCase$",value:function(e){return this._subject.pipe(Object(Xe.a)((function(t){return-1!==e.indexOf(t)})))}},{key:"broadcast",value:function(e){this._subject.next(e)}},{key:"broadcastToLateObservers",value:function(e){this._behaviorSubject.next(e)}},{key:"pubSubPayload$",value:function(e){return this._subjectPayload.pipe(Object(Xe.a)((function(t){return t[0]===e})))}},{key:"pubSubCasePayload$",value:function(e){return this._subjectPayload.pipe(Object(Xe.a)((function(t){return-1!==e.indexOf(t[0])})))}},{key:"broadcastPayload",value:function(e,t){this._subjectPayload.next([e,t])}}]),e}()),_e=n(170),$e=n(157),et=n(158),tt=n(169),nt=function(){function e(){Object(E.a)(this,e)}return Object(D.a)(e,null,[{key:"success",value:function(e,t,n){var i=t.response;if(i.payload=it.mapToModel(e,i.payload,n),"pending"===i.status){var r="".concat(i.status," ").concat(i.message," ").concat(t.request.url);console.warn(r)}return Object(_e.a)(i)}},{key:"getAnySuccess",value:function(e){var t=e.response;if("pending"===t.status){var n="".concat(t.status," ").concat(t.message," ").concat(e.request.url);console.warn(n)}return Object(_e.a)(t)}},{key:"error",value:function(e){return Object(_e.a)(Object(m.a)({},it.mapErrorResponse(e)))}}]),e}(),it=new(function(){function e(){Object(E.a)(this,e)}return Object(D.a)(e,[{key:"mapToModel",value:function(e,t,n){return t.map((function(t){var i=n?n(t):t;return new e(i)}))}},{key:"mapErrorResponse",value:function(e){return{dateTime:(new Date).toISOString(),hasError:!0,status:"error",length:-1,payload:[],payloadType:"",metadata:{},message:e.message,error:e}}},{key:"post$",value:function(t,n,i,r,a){var o=new ee.a,s=n.getAPIUrl(),c=e.makeHeaders(r,{"Content-Type":"application/json"});return console.log("post$ url=",s),tt.a.post(s,i,c).pipe(Object($e.a)((function(e){return nt.success(t,e,a)})),Object(et.a)((function(e){return console.log(JSON.stringify(i,void 0,3)),nt.error(e)}))).subscribe(o),o}},{key:"postAny$",value:function(t,n,i,r,a){var o=new ee.a,s=!0,c=n.getAPIUrl(),u=e.makeHeaders(r,{"Content-Type":"application/json"});for(var h in i){var l=i[h];if(l instanceof Array){var d,v=Object(z.a)(l);try{for(v.s();!(d=v.n()).done;){var f=d.value;c+=(s?"?":"&")+encodeURIComponent(h.trim())+"="+encodeURIComponent("string"==typeof f?f.trim():JSON.stringify(f)),s=!1}}catch(y){v.e(y)}finally{v.f()}}else c+=(s?"?":"&")+encodeURIComponent(h.trim())+"="+encodeURIComponent("string"==typeof l?l.trim():JSON.stringify(l)),s=!1}return console.log("postAny$ url=",c),tt.a.post(c,null,u).pipe(Object($e.a)((function(e){return nt.success(t,e,a)})),Object(et.a)((function(e){return console.log(JSON.stringify(i,void 0,3)),nt.error(e)}))).subscribe(o),o}},{key:"postAnyData$",value:function(t,n,i,r,a){var o=new ee.a,s=n.getUrl(),c=e.makeHeaders(r,{"Content-Type":"application/json"});return console.log("postAny$ url=",s),tt.a.post(s,i,c).pipe(Object($e.a)((function(e){return nt.success(t,e,a)})),Object(et.a)((function(e){return console.log(JSON.stringify(i,void 0,3)),nt.error(e)}))).subscribe(o),o}},{key:"put$",value:function(t,n,i,r,a){var o=new ee.a,s=n.getUrl();console.log("put$ url=",s);var c=e.makeHeaders(r);return tt.a.put(s,JSON.stringify(i),c).pipe(Object($e.a)((function(e){return nt.success(t,e,a)})),Object(et.a)((function(e){return nt.error(e)}))).subscribe(o),o}},{key:"get$",value:function(t,n,i,r){var a=this,o=new ee.a,s=n.getAPIUrl(),c=e.makeHeaders(i);return console.log("getAPIUrl",s),tt.a.get(s,c).pipe(Object($e.a)((function(e){var i=e.response;if("pending"===i.status){if(i.length<=0&&n.localDataPath){var o=new je(Object(m.a)(Object(m.a)({},n),{},{forceLocalMock:!0}));return a.get$(t,o,r)}return console.warn("".concat(i.length," records found: PENDING status may not be necessary")),nt.success(t,e,r)}return nt.success(t,e,r)})),Object(et.a)((function(e){return console.error(s,"HTTP Issue"),nt.error(e)}))).subscribe(o),o}},{key:"getAny$",value:function(t,n){var i=t.getAPIUrl();console.log("getAny$ url",i);var r=e.makeHeaders(n);return tt.a.get(i,r).pipe(Object($e.a)((function(e){return nt.getAnySuccess(e)})),Object(et.a)((function(e){return console.error(i,"HTTP Issue"),nt.error(e)})))}},{key:"rawFetch$",value:function(t,n){var i=e.makeHeaders(n);return tt.a.get(t,i).pipe(Object($e.a)((function(e){return Object(_e.a)(e.response)})),Object(et.a)((function(e){return console.error(t,"HTTP Issue"),Object(_e.a)(e)})))}}],[{key:"makeHeaders",value:function(e,t){return Object(m.a)(Object(m.a)({},e),t)}}]),e}()),rt=new(function(){function e(){Object(E.a)(this,e),this.http=it,this.sharedModel={},this.personModel={},this.refreshedModel={},this.isDisplayChatToast=!0,this.tService=void 0,this.tService=new qe}return Object(D.a)(e,[{key:"summary",get:function(){return this.tService.summary}},{key:"addPropertyToTarget",value:function(e,t,n){return e[t]||(e[t]=[]),e[t].unshift(n),e[t]}},{key:"addProperty",value:function(e,t){return this.addPropertyToTarget(this.sharedModel,e,t)}},{key:"removeSource",value:function(e,t,n){var i="sources",r=t;this.personModel[n]&&delete this.personModel[n],e[i]&&e[i][r]&&delete e[i][r]}},{key:"establishSource",value:function(e,t,n){var i="sources",r=n.sourceGuid,a=n.personId;this.personModel[a]||(this.personModel[a]=r),e[i]||(e[i]={}),e[i][r]||(e[i][r]={});var o=e[i][r];return o[t]||(o[t]={}),o[t]=n,o}},{key:"removeObservation",value:function(e,t){var n="sources";Reflect.ownKeys(e[n]).forEach((function(i){var r=e[n][i].observations;r&&(e[n][i].observations=r.filter((function(e){return e.uniqueGuid!==t})))}))}},{key:"establishObservation",value:function(e,t,n){var i="sources",r=n.sourceGuid;e[i]||(e[i]={}),e[i][r]||(e[i][r]={});var a=e[i][r];a[t]||(a[t]=[]);var o=a[t].find((function(e){return e.uniqueGuid===n.uniqueGuid}));return o?o.override(n):a[t].unshift(n),a}},{key:"establishPlatform",value:function(e,t,n){var i="platforms";e[i]||(e[i]={});var r=e[i];return r[t]=n,r}},{key:"retrievePlatform",value:function(e,t){var n="platforms";return e[n]||(e[n]={}),e[n][t]||{}}},{key:"addObservation",value:function(e,t){return this.establishObservation(this.sharedModel,e,t)}},{key:"addPlatform",value:function(e){return this.establishPlatform(this.sharedModel,e.platformName,e)}},{key:"removeObjective",value:function(e,t){var n="sources";Reflect.ownKeys(e[n]).forEach((function(i){var r=e[n][i].objectives;r&&(e[n][i].objectives=r.filter((function(e){return e.uniqueGuid!==t})))}))}},{key:"establishObjective",value:function(e,t,n){var i="sources",r=n.sourceGuid;e[i]||(e[i]={}),e[i][r]||(e[i][r]={});var a=e[i][r];a[t]||(a[t]=[]);var o=a[t].find((function(e){return e.uniqueGuid===n.uniqueGuid}));return o?o.override(n):a[t].unshift(n),a}},{key:"addToSource",value:function(e,t){return this.establishSource(this.sharedModel,e,t)}},{key:"addObjective",value:function(e,t){var n=new Be(t);return this.establishObjective(this.sharedModel,e,n)}},{key:"processAllSourceData",value:function(e){var t=this,n=e.sources;ge.forEachKeyValue(n,(function(e,n){console.log("adding source key=",e);var i=n.position;i&&t.addToSource("position",new Te(i));var r=n.objectives;r&&(t.sharedModel.sources[e].objectives=[],ge.forEachKeyValue(r,(function(e,n){t.addObjective("objectives",new Be(n))})));var a=n.observations;a&&(t.sharedModel.sources[e].observations=[],ge.forEachKeyValue(a,(function(e,n){t.addObservation("observations",new He(n))})))})),Je.broadcast(Ke.RECEIVED_COP_UPDATE)}},{key:"init",value:function(){var e=this;this.tService.doStart((function(){console.log("after tService.doStart"),e.tService.Pong$().subscribe((function(t){e.receivePing(t)})),e.tService.Generic$().subscribe((function(t){e.receiveGeneric(t)})),e.tService.ChatMessage$().subscribe((function(t){e.receiveChatMessage(t),e.isDisplayChatToast&&console.log("CentralModel ChatMessage",ge.stringify(t))})),e.tService.Position$().subscribe((function(t){e.receivePosition(t)})),e.tService.Objective$().subscribe((function(t){e.receiveObjective(t)})),e.tService.Observation$().subscribe((function(t){e.receiveObservation(t)})),e.tService.Platform$().subscribe((function(t){e.receivePlatform(t)})),e.tService.Body$().subscribe((function(t){e.receiveBody(t)})),e.tService.Status$().subscribe((function(t){e.receiveStatus(t)})),e.tService.Command$().subscribe((function(t){e.receiveCommand(t),e.processCommand(t)})),Je.broadcastToLateObservers(Ke.SIGNAL_R_CONNECTION_ESTABLISHED),e.register()}),(function(){console.error("SignalR server did not start"),Je.broadcastToLateObservers(Ke.SIGNAL_R_CONNECTION_UNAVAILABLE)}))}},{key:"restartEvents",value:function(){this.init()}},{key:"stopEvents",value:function(){this.tService.doStop((function(){console.error("Service stopped")}))}},{key:"register",value:function(){this.sendStatus(),this.sendPosition()}},{key:"unRegister",value:function(){this.unregisterSource(this.tService.sourceGUID,this.tService.personId)}},{key:"unregisterSource",value:function(e,t){var n=new Ne({targetGuid:e,command:"UNREGISTER",args:[t,e]});this.processCommand(n),this.tService.sendCommand(n)}},{key:"deleteObservation",value:function(e){var t=new Ne({targetGuid:e,command:"DELETE_OBSERVATION"});this.processCommand(t),this.tService.sendCommand(t)}},{key:"deleteObjective",value:function(e){var t=new Ne({targetGuid:e,command:"DELETE_OBJECTIVE"});this.processCommand(t),this.tService.sendCommand(t)}},{key:"deleteObjectivePossibleTargets",value:function(){ge.forEachKeyValue(this.sharedModel.sources,(function(e,t){var n,i=null===(n=t.objectives)||void 0===n?void 0:n.filter((function(e){return e.type!==we.POSSIBLE_TARGET}));t.objectives=i})),Je.broadcast(Ke.RECEIVED_COP_UPDATE)}},{key:"zoomInMap",value:function(e){var t=new Ne({targetGuid:e,command:"ZOOM_IN"});this.tService.sendCommand(t)}},{key:"zoomOutMap",value:function(e){var t=new Ne({targetGuid:e,command:"ZOOM_OUT"});this.tService.sendCommand(t)}},{key:"hideMap",value:function(e){var t=new Ne({targetGuid:e,command:"HIDE_MAP"});this.tService.sendCommand(t)}},{key:"showMap",value:function(e){var t=new Ne({targetGuid:e,command:"SHOW_MAP"});this.tService.sendCommand(t)}},{key:"processCommand",value:function(e){if(ge.matches(e.command,"UNREGISTER")){var t=e.targetGuid,n=e.args[0];this.removeSource(this.sharedModel,t,n),Je.broadcast(Ke.RECEIVED_COP_UPDATE)}if(ge.matches(e.command,"FLUSH")&&(this.sharedModel={},this.personModel={},this.refreshedModel={},Je.broadcast(Ke.RECEIVED_COP_UPDATE)),ge.matches(e.command,"DELETE_OBJECTIVE")){var i=e.targetGuid;this.removeObjective(this.sharedModel,i),Je.broadcast(Ke.RECEIVED_COP_UPDATE)}if(ge.matches(e.command,"DELETE_OBSERVATION")){var r=e.targetGuid;this.removeObservation(this.sharedModel,r),Je.broadcast(Ke.RECEIVED_COP_UPDATE)}ge.matches(e.command,"ZOOM_IN")&&Je.broadcast(Ke.RECEIVED_ZOOM_IN_COMMAND),ge.matches(e.command,"ZOOM_OUT")&&Je.broadcast(Ke.RECEIVED_ZOOM_OUT_COMMAND),ge.matches(e.command,"HIDE_MAP")&&Je.broadcast(Ke.RECEIVED_HIDE_MAP_COMMAND),ge.matches(e.command,"SHOW_MAP")&&Je.broadcast(Ke.RECEIVED_SHOW_MAP_COMMAND)}},{key:"refreshFromServer",value:function(e){var t=this,n=new je({serviceKey:"refreshFromServer$",endpoint:"/ClientHub/CentralModel"});this.http.getAny$(n).subscribe((function(n){n.hasError?console.error(n.message):(t.refreshedModel=n.payload[0],t.processAllSourceData(t.refreshedModel),console.log("refreshing")),e&&e()}),(function(e){console.error(e)}))}},{key:"flushCentralModel",value:function(e){var t=this,n=new je({serviceKey:"refreshFromServer$",endpoint:"/ClientHub/flushCentralModel"});this.http.getAny$(n).subscribe((function(n){n.hasError?Ze.error(n.message):(t.sharedModel={},t.personModel={},t.refreshedModel={},Je.broadcast(Ke.RECEIVED_COP_UPDATE)),e&&e()}),(function(e){Ze.error(e),console.error(e)}))}},{key:"sendPing",value:function(){this.tService.doPing()}},{key:"receivePing",value:function(e){console.log("received ping data=",e),this.addProperty("ping",e)}},{key:"sendPingPong",value:function(){this.tService.doPingPong()}},{key:"sendGeneric",value:function(){this.tService.sendGeneric(new Se({}))}},{key:"receiveGeneric",value:function(e){this.addToSource("generic",e)}},{key:"sendChatMessageMesh",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new De({});this.tService.sendChatMessageMesh(e)}},{key:"receiveChatMessage",value:function(e){this.addToSource("last_message",e),Je.broadcastPayload(Ke.RECEIVED_CHAT_MESSAGE,e)}},{key:"sendPosition",value:function(){this.tService.sendPosition(new Te({lat:this.tService.lastLat,lng:this.tService.lastLng}))}},{key:"receivePosition",value:function(e){this.addToSource("position",e),Je.broadcast(Ke.RECEIVED_COP_UPDATE)}},{key:"sendObjective",value:function(e){this.tService.sendObjective(e)}},{key:"receiveObjective",value:function(e){this.addObjective("objectives",e),Je.broadcast(Ke.RECEIVED_COP_UPDATE)}},{key:"sendObservation",value:function(e){return this.tService.sendObservation(e)}},{key:"receiveObservation",value:function(e){this.addObservation("observations",e),Je.broadcast(Ke.RECEIVED_COP_UPDATE)}},{key:"sendPlatform",value:function(e){return this.tService.sendPlatform(e)}},{key:"receivePlatform",value:function(e){this.addPlatform(e),Je.broadcast(Ke.RECEIVED_COP_UPDATE)}},{key:"sendBody",value:function(e){return this.tService.sendBody(e)}},{key:"receiveBody",value:function(e){this.retrievePlatform(this.sharedModel,e.platformName).establishBody(e),Je.broadcast(Ke.RECEIVED_COP_UPDATE)}},{key:"computeTargetsFromObservations",value:function(){var e=this,t=[];Reflect.ownKeys(this.sharedModel.sources||{}).sort().forEach((function(n){var i;null===(i=e.sharedModel.sources[n].observations)||void 0===i||i.forEach((function(e){t.push(e)}))}));for(var n=0;n<t.length;n++)for(var i=t[n],r=0;r<t.length;r++)if(n!==r){var a=t[r];this.computeObjective(i,a,"target")}Je.broadcast(Ke.RECEIVED_COP_UPDATE)}},{key:"createPossableTarget",value:function(e,t){var n=new Be({lat:Ce.asLat(e),lng:Ce.asLng(e),uniqueGuid:ge.generateUUID(),name:"assets/images/ICON_Enemy.png",type:we.POSSIBLE_TARGET,note:"".concat(t," Computed from Observations")});return this.tService.sendObjective(n),n}},{key:"computeObjective",value:function(e,t,n){var i=e.intersection(t);if(0===i.length)return!1;var r=i[0];return r&&this.createPossableTarget(r,n),i[1]&&this.createPossableTarget(r,n),!0}},{key:"resetPosition",value:function(e){var t=this;this.tService.resetPosition((function(){t.sendPosition(),e&&e([t.tService.lastLat,t.tService.lastLng])}))}},{key:"moveAndSendPosition",value:function(e,t){this.tService.movePosition(e,t),this.sendPosition()}},{key:"sendStatus",value:function(){this.tService.sendStatus(new Ie({user:this.tService.personId,device:"Squire",ammo:100,heartrate:62,ip_address:"0.0.0.0",battery:"full",notes:"Ready"}))}},{key:"receiveStatus",value:function(e){this.addToSource("status",e)}},{key:"sendCommand",value:function(e){this.tService.sendCommand(new Ne(e))}},{key:"receiveCommand",value:function(e){this.addToSource("command",e)}}]),e}()),at=function(){function e(){Object(E.a)(this,e)}return Object(D.a)(e,[{key:"sendPlatformMessage",value:function(e){console.log("send platform message"),rt.sendPlatform(e)}},{key:"sendBody",value:function(e){console.log("send body message"),rt.sendBody(e)}}]),e}(),ot=n.p+"static/media/theatre-floor-plan.745fed31.png",st=n.p+"static/media/air-force-logo.94550adb.jpg",ct="data:image/png;base64,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",ut="data:image/png;base64,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",ht=n.p+"static/media/marines-logo.059ab0c3.png",lt=n.p+"static/media/nasa-logo.c6d44475.png",dt=n.p+"static/media/space-force-logo.a89f540a.png",vt=n.p+"static/media/faa-logo.d12ad911.png",ft="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAAb1BMVEX///8AAACWlpbT09Pp6en7+/uGhoabm5t6enq7u7thYWFdXV1+fn7s7Ozv7+/Pz8+lpaUsLCzZ2dkjIyPj4+MXFxc2NjYdHR0pKSn29vbAwMBtbW2ampqjo6MwMDAUFBRBQUFxcXFVVVWMjIw9PT14vebLAAAExUlEQVR4nO2da1fiMBCGK4J4BxEvoOJt//9v3JWzKnTeSaZpajKe9/m4LZ552AyTJk3SNIQQQgghhBBCCCGEEEIIIYQQQggh9XA5m09HdTKdzy776o1Htwd1c/s47uG3PCsdv4nTZargeenQzRyl/Qdel467A5uEpjorHXRHDrsKHpaOuDOLboIXpeNNoFvhqL1GIF66CE5LR5vE3C54WTrWRFZmw6PSoSYyMhuWjjQZq+C6dKDJzIyGr6UDTcbae/PUXdvn1ia4Kh1nDyYmw2XpMHtg69csSofZA9uTor9O9ze2Jwwa1gwNaVg/NKRh/dCQhvVDQxrWDw1pWD80VA3Pm0mL5ljctJE3nXxdXLYvogGvI/EXIKvFKLvhnbzrRNx0LG/6fhNAzkKPkaGZp8yGBxfiLjmHeiL/1P1ghkoupRuC6MXIePBbyG6IZ1fSDc/lbe13UW7kLTstOb9h85DVcBMMf0swDYcwRCPXPaqFHC5vTxSHG/IAhmias4dh8Gdki0zD3e9gCEPQTHsYgkTcr4hX8obddjyE4XtWw+uwQPS3aAjDx6yG0YoImvHVwIbgnZg+hsDgbve6/Cna+wYcGEZa4bO8vNeKHRhGfkliXQIHhpGKCBrxjTdD4LD5vhquhj4MgxXxXl7cLyYeDIMS0Z65B8NgRQw34R6Gy9l/wCvA2Q2BxfPntWjHPNXw9fPa2w8YBlpitE+XbPiV6qc/YBhIxPCzoRvDQFOMVUMvhnrnOj5Q5cNQTcRoNfRiqHZNDeNUPgzVrlm0Grox1CpifJjKi6HSGiMPVp4MlUFfQxp6MVSGKmIDHJ4M8aipZdrGiyFsj6apNy+G8DclOljsyRDWhchIqTNDYGOpho4MQYt8l/8k07D/E/DZDxmCigiWNYKF/KmG66f5lifQegYxBJUBAJaGuRiJ2gK+SgFaCO7HECSiAKShI0MwoS9A+2n4MbSsf0MrNB0ZxhMRrnV3ZBhPRJSGngxBP7sF3NbGkWG8It6jT3kyjCUi3hZlCEPwDmYWw1giwjQcxBCkQxZD8Iy4h3w2HMoQbDGT5y3oSEV8hh8awBBVpTyG4URUdicawBDtwJLHMJyIOA0HMIQbI+QxBNOhO+A0zG+4upGfz7YaIVgR5RDNIIaHUDCXYSgRtU3CshpOZugN6IyGoURU0jDZcPp21uYNdpqyGoYSUdtrsfdYm41cq4ICFRFXQ3eGeiKqe/U5M9QTUUtDb4Z611QNyJmhXhGVaujPUEtEfctMb4ZaIqpp6M4QvLceiceboVYRxfS9X0OciCBot4Y4EfU09GeIK2IgHHeGOBEDnX5/higRQxtI+zNEiRhIQ4eGYEI/GI0/w38hix0UQju7Ju6pUNKwTmhIw/qhIQ3rh4Y0rB8a0rB+aEjD+qEhDevHZvj7zyjxeG7eJ6YFL67PCjKevKZOVVePZTXIB35OWG1jWdHzgd9z19ZGw99/dh7actEF9vMPvf6a2s+w1HZarpwO55A2zZ/S0Sbw0kXQ5VmrHdroB/46p50PWPemmHCC/K8/W73xdCww2PXAxvi0dOgmHmzPTIrjqPa68fKY1kB3mCzW81GdzNdgR0xCCCGEEEIIIYQQQgghhBBCCCGEkHL8BXPWdtUAPxKnAAAAAElFTkSuQmCC",yt="data:image/png;base64,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",bt=function(e){Object(M.a)(n,e);var t=Object(S.a)(n);function n(e,i){var r;return Object(E.a)(this,n),(r=t.call(this,e,i)).imagePath="images",r.scale=void 0,r.name=void 0,r.code=void 0,r.filename=void 0,r.uniqueGuid=void 0,r.uniqueGuid=ge.generateUUID(),r}return Object(D.a)(n,[{key:"xLoc",value:function(){var e=this.myParent().pinX();return this.x-e}},{key:"yLoc",value:function(){return 5}},{key:"zLoc",value:function(){var e=this.myParent().pinY();return this.y-e}},{key:"asBody",value:function(){var e=this.myParent(),t=new Me;t.override({units:"m",width:.25,height:1,depth:.25});var n=new Re;n.override({xLoc:e.scaleStageHorizontally(this.xLoc()),yLoc:this.yLoc(),zLoc:e.scaleStageVertically(this.zLoc())});var i=new Ge;return i.override({uniqueGuid:this.uniqueGuid,bodyName:this.code,position:n,boundingBox:t,platformName:e.myName}),i}},{key:"finalize",value:function(){this.imageURL="".concat(this.filename)}}]),n}(be),mt=function(e){Object(M.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(E.a)(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).scale=.3,e.code="airForce",e.name="Air Force",e.filename=st,e}return Object(D.a)(n,[{key:"width",get:function(){return 198*this.scale}},{key:"height",get:function(){return 254*this.scale}}]),n}(bt),gt=function(e){Object(M.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(E.a)(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).scale=.3,e.code="army",e.name="Army",e.filename=ct,e}return Object(D.a)(n,[{key:"width",get:function(){return 198*this.scale}},{key:"height",get:function(){return 254*this.scale}}]),n}(bt),pt=function(e){Object(M.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(E.a)(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).scale=.3,e.code="navy",e.name="Navy",e.filename=ut,e}return Object(D.a)(n,[{key:"width",get:function(){return 255*this.scale}},{key:"height",get:function(){return 255*this.scale}}]),n}(bt),kt=function(e){Object(M.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(E.a)(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).scale=.125,e.code="marines",e.name="Marines",e.filename=ht,e}return Object(D.a)(n,[{key:"width",get:function(){return 512*this.scale}},{key:"height",get:function(){return 512*this.scale}}]),n}(bt),Ot=function(e){Object(M.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(E.a)(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).scale=.05,e.code="nasa",e.name="NASA",e.filename=lt,e}return Object(D.a)(n,[{key:"width",get:function(){return 3400*this.scale}},{key:"height",get:function(){return 1700*this.scale}}]),n}(bt),At=function(e){Object(M.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(E.a)(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).scale=.04,e.code="spaceForce",e.name="Space Force",e.filename=dt,e}return Object(D.a)(n,[{key:"width",get:function(){return 1755*this.scale}},{key:"height",get:function(){return 2047*this.scale}}]),n}(bt),jt=function(e){Object(M.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(E.a)(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).scale=.3,e.code="faa",e.name="FAA",e.filename=vt,e}return Object(D.a)(n,[{key:"width",get:function(){return 255*this.scale}},{key:"height",get:function(){return 255*this.scale}}]),n}(bt),wt=function(e){Object(M.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(E.a)(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).scale=.3,e.code="vip",e.name="VIP",e.filename=ft,e}return Object(D.a)(n,[{key:"width",get:function(){return 255*this.scale}},{key:"height",get:function(){return 255*this.scale}}]),n}(bt),xt=function(e){Object(M.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(E.a)(this,n);for(var i=arguments.length,r=new Array(i),a=0;a<i;a++)r[a]=arguments[a];return(e=t.call.apply(t,[this].concat(r))).scale=.4,e.code="contractor",e.name="Contractor",e.filename=yt,e}return Object(D.a)(n,[{key:"width",get:function(){return 272*this.scale}},{key:"height",get:function(){return 185*this.scale}}]),n}(bt),Pt=new(function(e){Object(M.a)(n,e);var t=Object(S.a)(n);function n(){var e;return Object(E.a)(this,n),(e=t.call(this)).messageHandler=void 0,e.stageImageURL=ot,e.stageImageWidth=1338,e.stageImageHeight=1039,e.logoTypes=[mt,gt,pt,kt,Ot,At,jt,wt,xt],e.logos=[],e.showBoundry=void 0,e.theatreWidth=48.4,e.theatreHeight=100,e.theatreDepth=37.58415,e.subHandle=void 0,e.onItemHoverEnter=function(e,t,n){t.drawHover=t.drawHighlight},e.onItemHoverExit=function(e,t,n){t.drawHover=void 0},e.pinX=function(){return.496*e.width},e.pinY=function(){return.217*e.height},e.draw=function(t){e.drawPage(t)},e.setName("ParkTheatre"),e.messageHandler=new at,e.setupMouseEvents(),e.setEventSubscriptions(),e}return Object(D.a)(n,[{key:"setEventSubscriptions",value:function(){var e=this;oe.observable.subscribe((function(t){if(console.log(t),"dropped"===t.cmd){var n=t.object;e.messageHandler.sendBody(n.asBody()),Je.broadcast(Ke.RECEIVED_COP_UPDATE)}else if("moveComplete"===t.cmd){var i=t.object;e.messageHandler.sendBody(i.asBody()),Je.broadcast(Ke.RECEIVED_COP_UPDATE)}else"pageCreated"===t.cmd&&e.messageHandler.sendPlatformMessage(e.asPlatform())}))}},{key:"canvas2Params",get:function(){var e=this;return{width:this.width,height:this.height,draw:function(t,n){e.render(t)}}}},{key:"scaleStageHorizontally",value:function(e){return this.theatreWidth*(e/this.width)}},{key:"scaleStageVertically",value:function(e){return this.theatreDepth*(e/this.height)}},{key:"asPlatform",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=new Me;t.override({units:"m",width:this.theatreWidth,height:this.theatreHeight,depth:this.theatreDepth});var n=new Ue;return n.override({uniqueGuid:n.uniqueGuid,platformName:this.myName,boundingBox:t}),e&&(n.members=this.subcomponents.members.map((function(e){return e.asBody()}))),n}},{key:"createLogos",value:function(){var e=this;this.logos=[],Object.values(this.logoTypes).forEach((function(t){var n=new t(void 0,e);n.scale=n.scale*e.width*.001,n.finalize(),e.logos.push(n)}))}},{key:"init",value:function(e){var t=this,n=e()/this.stageImageWidth;this.width=this.stageImageWidth*n,this.height=this.stageImageHeight*n;var i=new ye({imageURL:this.stageImageURL,width:this.width,height:this.height});this.createLogos(),this.postDraw=function(e){i.draw(e),t.drawPin(e)}}},{key:"dropLogo",value:function(e){e.dropAt(this.width/2,this.height/2),this.subcomponents.addMember(e)}}]),n}(fe)),Et=n(16),Ct=n(165),Mt=n(83),St=n(82),Dt=Object(y.a)((function(e){return Object(b.a)({iconButton:{border:"1px solid #e6e6e6",padding:e.spacing(.5),borderRadius:e.spacing(.5),cursor:"pointer",display:"flex",alignItems:"center"},buttonWithLabel:Object(m.a)(Object(m.a)({},e.typography.button),{},{backgroundColor:St.a[500],paddingRight:e.spacing(2),color:e.palette.common.white}),disabledIconButton:{opacity:"0.25",cursor:"default"}})})),It=function e(){Object(E.a)(this,e),this.default=Object(i.forwardRef)((function(e,t){var n=Object(C.a)(),i=Dt(),r=e.director.spec.muiIcon,a=e.director.spec.faIcon,o=e.director.label;return Object(A.jsxs)(B.a,{className:O()(i.iconButton,Object(Et.a)({},i.buttonWithLabel,Boolean(o))),color:"primary",onClick:function(){return e.director.start()},children:[r&&Object(A.jsx)(r,{color:"inherit",fontSize:"small"}),a&&Object(A.jsx)(Mt.a,{icon:a,size:"1x",color:n.palette.common.white}),Object(A.jsx)(B.a,{ml:.5,children:o})]},"option-".concat(e.id))})),this.tooltip=Object(i.forwardRef)((function(e,t){var n=Object(C.a)(),i=Dt(),r=e.director.spec.muiIcon,a=e.director.spec.faIcon;return Object(A.jsx)(Ct.a,{arrow:!0,title:e.director.label,placement:"top",children:Object(A.jsxs)(B.a,{className:O()(i.iconButton),color:"primary",onClick:function(){return e.director.start()},children:[r&&Object(A.jsx)(r,{color:"inherit",fontSize:"small"}),a&&Object(A.jsx)(Mt.a,{icon:a,size:"1x",color:n.palette.common.white})]},"option-".concat(e.id))})})),this.disabled=Object(i.forwardRef)((function(e,t){var n=Object(C.a)(),i=Dt(),r=e.director.spec.muiIcon,a=e.director.spec.faIcon,o=e.director.label;return Object(A.jsxs)(B.a,{color:"lightgrey",className:O()("disabled",i.iconButton,i.disabledIconButton,Object(Et.a)({},i.buttonWithLabel,Boolean(o))),onClick:function(e){e.preventDefault(),e.stopPropagation()},children:[r&&Object(A.jsx)(r,{color:"inherit",fontSize:"small"}),a&&Object(A.jsx)(Mt.a,{icon:a,size:"1x",color:n.palette.common.white}),Object(A.jsx)(B.a,{ml:.5,children:o})]},"option-".concat(e.id))}))},Nt=n(31),Lt=n.n(Nt),Tt=function e(){Object(E.a)(this,e),this.director=void 0,this.name="Unnamed",this.execute=void 0},Rt=function(e){Object(M.a)(n,e);var t=Object(S.a)(n);function n(e){var i;return Object(E.a)(this,n),(i=t.call(this)).pathname=void 0,i.dialogProps=void 0,i.onOk=void 0,i.onCancel=void 0,i.execute=function(){Je.broadcastPayload(Ke.DISPLAY_OVERLAY_PAGE,{pathname:i.pathname,props:{ok:function(){i.onOk&&i.onOk(),i.director.next("OK")},cancel:function(){i.onCancel&&i.onCancel()},dialogProps:i.dialogProps,director:i.director}})},Object.assign(Object($.a)(i),Object(m.a)({},e)),i}return n}(Tt);Rt.default={pathname:"/confirm-info-add-offering-page",dialogProps:{},name:"defaultDialogPageCommand"};var Gt=function(e){Object(M.a)(n,e);var t=Object(S.a)(n);function n(e){var i;return Object(E.a)(this,n),(i=t.call(this)).action=void 0,i.execute=function(){i.action&&i.action(i.director),window.setTimeout((function(){i.director.next("SYNC COMMAND")}),0)},Object.assign(Object($.a)(i),Object(m.a)({},e)),i}return n}(Tt),Ut=function(e){Object(M.a)(n,e);var t=Object(S.a)(n);function n(e){var i;return Object(E.a)(this,n),(i=t.call(this)).action=void 0,i.execute=function(){i.action&&i.action(i.director)},Object.assign(Object($.a)(i),Object(m.a)({},e)),i}return n}(Tt),Bt=function(e){Object(M.a)(n,e);var t=Object(S.a)(n);function n(e){var i;return Object(E.a)(this,n),(i=t.call(this)).action=void 0,i.delayMs=0,i.execute=function(){window.setTimeout((function(){i.action&&i.action(i.director)}),i.delayMs)},Object.assign(Object($.a)(i),Object(m.a)({},e)),i}return n}(Tt),Ht=function(){function e(t){Object(E.a)(this,e),this.label=void 0,this.isLog=!1,this.spec=void 0,this.commands=[],this.iterator=void 0,this.getRender=function(e){return e.default},this.existsWhenFunc=function(){return!0},Object.assign(this,Object(m.a)({},t)),this.spec=t}return Object(D.a)(e,[{key:"add",value:function(e){return e.director=this,this.commands.push(e),this}},{key:"addTimeout",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=new Bt(e);return n.delayMs=t,this.add(n)}},{key:"coroutine",value:Lt.a.mark((function e(t){var n,i,r,a;return Lt.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Object(z.a)(t.commands),e.prev=1,n.s();case 3:if((i=n.n()).done){e.next=13;break}return r=i.value,t.isLog&&console.log('CommandListDirector before execute command name="'.concat(r.name,'"')),r.execute(),e.next=9,"Command name: ".concat(r.name);case 9:a=e.sent,t.isLog&&console.log("CommandListDirector yieldValue=",a);case 11:e.next=3;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),n.e(e.t0);case 18:return e.prev=18,n.f(),e.finish(18);case 21:return e.abrupt("return","START");case 22:case"end":return e.stop()}}),e,null,[[1,15,18,21]])}))},{key:"addDialogPage",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Rt.default,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t){var n=new Rt(e);return this.add(n)}return this}},{key:"addSync",value:function(e){var t=new Gt(e);return this.add(t)}},{key:"addASync",value:function(e){var t=new Ut(e);return this.add(t)}},{key:"addConditional",value:function(e){return this.addTimeout(e,0)}},{key:"addSleep",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:250,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sleepBetweenDialogs",n={action:function(e){e.next("SLEEP")},name:t};return this.addTimeout(n,e),this}},{key:"renderRule",value:function(e){return this.getRender=e,this}},{key:"existsWhenRule",value:function(e){return this.existsWhenFunc=e,this}},{key:"do",value:function(e){var t=this,n={action:function(n){e(t),n.next("DO")},name:"DO FUNC"};return this.addTimeout(n),this}},{key:"writeCustomProperty",value:function(e,t){if(Reflect.set(this,e,t))return this;throw new Error("".concat(e," was not able to be created."))}},{key:"readCustomProperty",value:function(e){if(Reflect.getOwnPropertyDescriptor(this,e))return this[e];throw new Error("".concat(e," is not a known custom property on this command list.  You may need to set a property with writeCustomProperty."))}},{key:"hasCustomProperty",value:function(e){return Reflect.getOwnPropertyDescriptor(this,e)}},{key:"start",value:function(){this.iterator=this.coroutine(this),this.iterator.next("START_ITERATOR")}},{key:"next",value:function(e){var t=this.iterator.next(e);this.isLog&&console.log("next method yieldValue=",t)}},{key:"end",value:function(e){var t=e||"END";this.iterator.return(t)}},{key:"construct",value:function(){return this}}],[{key:"getInstance",value:function(t){return new e(t)}}]),e}(),Vt=function(){function e(t){Object(E.a)(this,e),this.page=t,this.maxAllowedLogoCount=3,this.currentLogoCount=0}return Object(D.a)(e,[{key:"directDropLogo",value:function(e){var t=this,n={label:" + ".concat(e.name)};return Ht.getInstance(n).renderRule((function(e){return t.currentLogoCount<t.maxAllowedLogoCount?e.default:e.disabled})).addSync({action:function(){t.currentLogoCount++,t.page.dropLogo(e)}})}},{key:"createElement",value:function(e,t){return Object(i.createElement)(e,Object(m.a)({key:t.id},t))}},{key:"generateOptions",value:function(e,t){var n=this;return e.filter((function(e){return e.existsWhenFunc()})).map((function(e,i){return n.createElement(e.getRender(t),{id:"".concat(e.label),director:e})}))}},{key:"generateTextButtonActions",value:function(e){var t=new It;return this.generateOptions(e,t)}},{key:"getTextButtons",value:function(){var e,t=this;return e=this.page.logos.map((function(e){return t.directDropLogo(e)})),this.generateTextButtonActions(e)}}]),e}();var Ft=function(e){var t=Object(C.a)(),n=function(){var e=Object(i.useState)({width:window.innerWidth,height:window.innerHeight}),t=Object(xe.a)(e,2),n=t[0],r=t[1];return Object(i.useEffect)((function(){function e(){r({width:window.innerWidth,height:window.innerHeight})}return window.addEventListener("resize",e),e(),function(){return window.removeEventListener("resize",e)}}),[]),n}(),r=Object(i.useState)(0)[1],a=Object(i.useMemo)((function(){return new Y}),[]);a.model=Pt;var o=Object(i.useMemo)((function(){return new Vt(a.model)}),[a.model]);return a.actionButtons=o.getTextButtons(),Object(i.useEffect)((function(){window.setTimeout((function(){rt.sendPing(),oe.event("pageCreated",a.model)}),1e3)}),[a.model]),Object(i.useEffect)((function(){Pt.init((function(){return Math.min(t.breakpoints.values[e.containerMaxWidthBreakpoint],n.width)}))}),[n,t,e.containerMaxWidthBreakpoint]),Object(i.useEffect)((function(){Je.pubSub$(Ke.RECEIVED_COP_UPDATE).subscribe((function(){r((new Date).getTime())}))}),[r]),a.display()},Wt=function(e){Object(M.a)(n,e);var t=Object(S.a)(n);function n(){var e;Object(E.a)(this,n);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).cService=void 0,e.Component=function(e){return Object(A.jsxs)(i.Fragment,{children:[Object(A.jsx)("div",{children:"Display Logos"}),Object(A.jsx)(K.a,{only:"xs",children:Object(A.jsx)(F,{children:rt.sharedModel})})]})},e}return n}(Q),Qt=function(e){var t=Object(i.useState)(0)[1],n=Object(i.useMemo)((function(){return new Wt}),[]);return Object(i.useEffect)((function(){Je.pubSub$(Ke.RECEIVED_COP_UPDATE).subscribe((function(){t((new Date).getTime())}))}),[t]),n.display()},Kt=Object(y.a)((function(e){return Object(b.a)({root:{},menuButton:{marginRight:e.spacing(2)},title:{flexGrow:1},page:{marginTop:e.spacing(8),paddingLeft:0,paddingRight:0}})})),Yt="md",Zt=function(e){var t=Kt();return Object(A.jsxs)(u.a,{children:[Object(A.jsx)("div",{className:t.root,children:Object(A.jsx)(l.a,{position:"fixed",children:Object(A.jsxs)(d.a,{variant:"dense",children:[Object(A.jsx)(v.a,{variant:"h6",className:t.title,children:Object(A.jsx)(u.b,{to:"/",children:"IoBT Client Canvas"})}),Object(A.jsxs)("div",{children:[Object(A.jsx)(P,{children:Object(A.jsx)(u.b,{to:"/",children:"Park Theater"})}),Object(A.jsx)(P,{children:Object(A.jsx)(u.b,{to:"/display-logos",children:"Display Logos"})})]})]})})}),Object(A.jsx)(f.a,{className:t.page,maxWidth:Yt,children:Object(A.jsxs)(h.c,{children:[Object(A.jsx)(h.a,{path:"/display-logos",children:Object(A.jsx)(Qt,{containerMaxWidthBreakpoint:Yt})}),Object(A.jsx)(h.a,{path:"/",children:Object(A.jsx)(Ft,{containerMaxWidthBreakpoint:Yt})})]})})]})},qt=(n(131),n(132),n(99)),zt=n(100),Xt=function(){function e(){Object(E.a)(this,e)}return Object(D.a)(e,null,[{key:"pingServer$",value:function(){var e=new ee.a,t=new je({serviceKey:"pingServer$",endpoint:"/ping"}),n=it.get$(ke,t).subscribe((function(t){var i=t.message,r=t.error;r&&console.log(r);var a=!!i&&i.toLowerCase().indexOf("up")>=0;n.unsubscribe(),e.next(a),e.complete()}),(function(t){e.error(t)}));return e}},{key:"loadConfiguration$",value:function(){var e=new ee.a,t=qt;return t=zt,Ae.override(t),rt.init(),window.setTimeout((function(){e.next(!0)}),10),e}}]),e}(),Jt=Object(c.a)({palette:{}});Xt.loadConfiguration$().subscribe((function(e){a.a.render(Object(A.jsxs)(i.StrictMode,{children:[Object(A.jsx)(s.a,{}),Object(A.jsx)(Ye.a,{position:"bottom-right",autoClose:2500}),Object(A.jsx)(o.a,{theme:Jt,children:Object(A.jsx)(Zt,{})})]}),document.getElementById("root"))}))},99:function(e){e.exports=JSON.parse('{"baseURL???":"http://192.168.1.19:8080","baseURL??":"http://localhost:53000","baseURL":"http://localhost:5000","baseURL?":"https://iobtweb.azurewebsites.net","rootAPIPath":"/api","localDebug":true,"mesh":[{"name":"n1","url":"http://localhost:5000"},{"name":"n2","url":"https://iobtmesh.azurewebsites.net"}],"defaultLatLng":[38.5876921,-79.39259]}')}},[[133,1,2]]]);
//# sourceMappingURL=main.58b43a93.chunk.js.map